// SPDX-License-Identifier: GPL-3.0-or-later
// solhint-disable max-line-length,no-inline-assembly,reason-string
pragma solidity >=0.8.22;

import { Precompiles as V2CorePrecompiles } from "@sablier/v2-core/precompiles/Precompiles.sol";
import { ISablierV2LockupDynamic } from "@sablier/v2-core/src/interfaces/ISablierV2LockupDynamic.sol";
import { ISablierV2LockupLinear } from "@sablier/v2-core/src/interfaces/ISablierV2LockupLinear.sol";
import { ISablierV2LockupTranched } from "@sablier/v2-core/src/interfaces/ISablierV2LockupTranched.sol";
import { ISablierV2NFTDescriptor } from "@sablier/v2-core/src/interfaces/ISablierV2NFTDescriptor.sol";

import { ISablierV2BatchLockup } from "../src/interfaces/ISablierV2BatchLockup.sol";
import { ISablierV2MerkleLockupFactory } from "../src/interfaces/ISablierV2MerkleLockupFactory.sol";

contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_BATCH_LOCKUP =
        hex"6080806040523461001657611f10908161001c8239f35b600080fdfe608080604052600436101561001357600080fd5b60003560e01c90816337266dd31461125b5750806349a32c4014610eb7578063606ef87514610b6b5780639e743f29146107fc578063a514f83e146104295763f7ca34eb1461006157600080fd5b346103555761006f366115d6565b9283156103ff5760009060005b8581106103cb57506001600160a01b036100999116918483611b81565b6100a284611858565b9260005b8581106100bf57604051806100bb8782611664565b0390f35b6100ca818786611b1e565b6100d3906118a7565b906100df818887611b1e565b6020016100eb906118a7565b85886100f8848284611b1e565b60400161010490611725565b61010f858385611b1e565b60600161011b906118bb565b610126868486611b1e565b608001610132906118bb565b9061013e878587611b1e565b60a00161014a90611b5e565b9287610157818789611b1e565b60c0810161016491611a2a565b96610170929198611b1e565b60e00196604051996101818b6117aa565b6001600160a01b03168a526001600160a01b031660208a01526fffffffffffffffffffffffffffffffff1660408901526001600160a01b038916606089015215156080880152151560a087015264ffffffffff1660c086015236906101e592611a7e565b60e0840152366101f4916119cc565b610100830152604051917f31df3d48000000000000000000000000000000000000000000000000000000008352600483016020905280516001600160a01b0316602484015260208101516001600160a01b0316604484015260408101516fffffffffffffffffffffffffffffffff16606484015260608101516001600160a01b031660848401526080810151151560a484015260a0810151151560c484015260c081015164ffffffffff1660e48401528260e082015161010482016101409052805180610164840152610184830191602001906000905b80821061036e5750505081906103006101006020950151610124840190602080916001600160a01b0381511684520151910152565b03816000885af180156103625760009061032a575b600192506103238288611a05565b52016100a6565b506020823d60201161035a575b81610344602093836117ff565b810103126103555760019151610315565b600080fd5b3d9150610337565b6040513d6000823e3d90fd5b919493509160206060826103bc600194895164ffffffffff604080926fffffffffffffffffffffffffffffffff815116855267ffffffffffffffff6020820151166020860152015116910152565b019501920186939492916102cb565b916001906fffffffffffffffffffffffffffffffff6103f660406103f0878b8a611b1e565b01611725565b1601920161007c565b60046040517ff8bf106c000000000000000000000000000000000000000000000000000000008152fd5b346103555760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112610355576104606116a0565b6104686115c0565b9060443567ffffffffffffffff8082116103555736602383011215610355578160040135116103555736602461014083600401350283010111610355578060040135156103ff576000805b826004013582106107c7576104d39150846001600160a01b038516611b81565b6104e08160040135611858565b9160005b826004013581106104fd57604051806100bb8682611664565b61051761051282856004013560248701611b70565b6118a7565b9083610536602061053084846004013560248601611b70565b016118a7565b61054d60406103f085856004013560248701611b70565b9361056b606061056586866004013560248801611b70565b016118bb565b946080956fffffffffffffffffffffffffffffffff6105968861056589896004013560248b01611b70565b926001600160a01b036101006105c78a6105b88160048d013560248e01611b70565b9a602481600401359101611b70565b019681604051976105d789611742565b1687521660208601521660408401526001600160a01b038b166060840152151586830152151560a082015260607fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6084360301126103555761075c9261067f60e093604051610644816117c7565b61065060a08501611939565b815261066f8660c095610664878201611939565b602085015201611939565b60408201528385015236906119cc565b83830152604051957f53b157270000000000000000000000000000000000000000000000000000000087526001600160a01b0383511660048801526001600160a01b0360208401511660248801526fffffffffffffffffffffffffffffffff60408401511660448801526001600160a01b0360608401511660648801528201511515608487015260a0820151151560a4870152810151604064ffffffffff918281511660c48901528260208201511660e48901520151166101048601520151610124840190602080916001600160a01b0381511684520151910152565b6020826101648160006001600160a01b0388165af1801561036257600090610794575b6001925061078d8287611a05565b52016104e4565b506020823d6020116107bf575b816107ae602093836117ff565b81010312610355576001915161077f565b3d91506107a1565b6001906fffffffffffffffffffffffffffffffff6107f260406103f086886004013560248a01611b70565b16019101906104b3565b346103555761080a366115d6565b9283156103ff5760009060005b858110610b3d57506001600160a01b036108349116918483611b81565b61083d84611858565b9260005b85811061085657604051806100bb8782611664565b610861818786611b1e565b61086a906118a7565b90610876818887611b1e565b602001610882906118a7565b858861088f848284611b1e565b60400161089b90611725565b6108a6858385611b1e565b6060016108b2906118bb565b6108bd868486611b1e565b6080016108c9906118bb565b906108d5878587611b1e565b60a0016108e190611b5e565b92876108ee818789611b1e565b60c081016108fb916118c8565b96610907929198611b1e565b60e00196604051996109188b6117aa565b6001600160a01b03168a526001600160a01b031660208a01526fffffffffffffffffffffffffffffffff1660408901526001600160a01b038916606089015215156080880152151560a087015264ffffffffff1660c0860152369061097c9261194b565b60e08401523661098b916119cc565b610100830152604051917f32fbe22b000000000000000000000000000000000000000000000000000000008352600483016020905280516001600160a01b0316602484015260208101516001600160a01b0316604484015260408101516fffffffffffffffffffffffffffffffff16606484015260608101516001600160a01b031660848401526080810151151560a484015260a0810151151560c484015260c081015164ffffffffff1660e48401528260e082015161010482016101409052805180610164840152610184830191602001906000905b808210610af4575050508190610a976101006020950151610124840190602080916001600160a01b0381511684520151910152565b03816000885af1801561036257600090610ac1575b60019250610aba8288611a05565b5201610841565b506020823d602011610aec575b81610adb602093836117ff565b810103126103555760019151610aac565b3d9150610ace565b91949350916020604082610b2e600194895164ffffffffff602080926fffffffffffffffffffffffffffffffff8151168552015116910152565b01950192018693949291610a62565b916001906fffffffffffffffffffffffffffffffff610b6260406103f0878b8a611b1e565b16019201610817565b3461035557610b79366115d6565b9283156103ff5760009060005b858110610e8957506001600160a01b03610ba39116918483611b81565b610bac84611858565b9260005b858110610bc557604051806100bb8782611664565b610bd08187866116b6565b610bd9906118a7565b90610be58188876116b6565b602001610bf1906118a7565b8782610bfe81838a6116b6565b604001610c0a90611725565b610c1582848b6116b6565b606001610c21906118bb565b610c2c83858c6116b6565b608001610c38906118bb565b91610c4484868d6116b6565b60a08101610c5191611a2a565b94610c5d91968d6116b6565b60c0019560405198610c6e8a611742565b6001600160a01b031689526001600160a01b031660208901526fffffffffffffffffffffffffffffffff1660408801526001600160a01b038816606088015215156080870152151560a08601523690610cc692611a7e565b60c084015236610cd5916119cc565b60e0830152604051917f54c02292000000000000000000000000000000000000000000000000000000008352600483016020905282610144810182516001600160a01b0316602483015260208301516001600160a01b0316604483015260408301516fffffffffffffffffffffffffffffffff16606483015260608301516001600160a01b031660848301526080830151151560a483015260a0830151151560c483015260c08301519060e4830161012090528151809152610164830191602001906000905b808210610e2c575050508190610dcf60e06020950151610104840190602080916001600160a01b0381511684520151910152565b03816000885af1801561036257600090610df9575b60019250610df28288611a05565b5201610bb0565b506020823d602011610e24575b81610e13602093836117ff565b810103126103555760019151610de4565b3d9150610e06565b91949350916020606082610e7a600194895164ffffffffff604080926fffffffffffffffffffffffffffffffff815116855267ffffffffffffffff6020820151166020860152015116910152565b01950192018693949291610d9b565b916001906fffffffffffffffffffffffffffffffff610eae60406103f0878b8a6116b6565b16019201610b86565b346103555760607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc36011261035557610eee6116a0565b610ef66115c0565b9060443567ffffffffffffffff8082116103555736602383011215610355578160040135116103555736602461012083600401350283010111610355578060040135156103ff576000805b8260040135821061122657610f619150846001600160a01b038516611b81565b610f6e8160040135611858565b9160005b82600401358110610f8b57604051806100bb8682611664565b610fa061051282856004013560248701611a19565b9083610fb9602061053084846004013560248601611a19565b610fd060406103f085856004013560248701611a19565b93610fe8606061056586866004013560248801611a19565b946080956fffffffffffffffffffffffffffffffff6110138861056589896004013560248b01611a19565b926001600160a01b0360e06110438a6110348160048d013560248e01611a19565b9a602481600401359101611a19565b0196816040519761105389611742565b1687521660208601521660408401526001600160a01b038b166060840152151586830152151560a082015260407fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff608436030112610355576111bb926110eb60e0936040516110c08161178e565b6110cc60a08501611939565b81526110db60c0809501611939565b60208201528385015236906119cc565b83830152604051957fab167ccc0000000000000000000000000000000000000000000000000000000087526001600160a01b0383511660048801526001600160a01b0360208401511660248801526fffffffffffffffffffffffffffffffff60408401511660448801526001600160a01b0360608401511660648801528201511515608487015260a0820151151560a4870152810151602064ffffffffff918281511660c489015201511660e48601520151610104840190602080916001600160a01b0381511684520151910152565b6020826101448160006001600160a01b0388165af18015610362576000906111f3575b600192506111ec8287611a05565b5201610f72565b506020823d60201161121e575b8161120d602093836117ff565b8101031261035557600191516111de565b3d9150611200565b6001906fffffffffffffffffffffffffffffffff61125160406103f086886004013560248a01611a19565b1601910190610f41565b3461035557611269366115d6565b93849391929315611598575060009060005b85811061156a57506001600160a01b036112989116918483611b81565b6112a184611858565b9260005b8581106112ba57604051806100bb8782611664565b6112c58187866116b6565b6112ce906118a7565b906112da8188876116b6565b6020016112e6906118a7565b87826112f381838a6116b6565b6040016112ff90611725565b61130a82848b6116b6565b606001611316906118bb565b61132183858c6116b6565b60800161132d906118bb565b9161133984868d6116b6565b60a08101611346916118c8565b9461135291968d6116b6565b60c00195604051986113638a611742565b6001600160a01b031689526001600160a01b031660208901526fffffffffffffffffffffffffffffffff1660408801526001600160a01b038816606088015215156080870152151560a086015236906113bb9261194b565b60c0840152366113ca916119cc565b60e0830152604051917f897f362b000000000000000000000000000000000000000000000000000000008352600483016020905282610144810182516001600160a01b0316602483015260208301516001600160a01b0316604483015260408301516fffffffffffffffffffffffffffffffff16606483015260608301516001600160a01b031660848301526080830151151560a483015260a0830151151560c483015260c08301519060e4830161012090528151809152610164830191602001906000905b8082106115215750505081906114c460e06020950151610104840190602080916001600160a01b0381511684520151910152565b03816000885af18015610362576000906114ee575b600192506114e78288611a05565b52016112a5565b506020823d602011611519575b81611508602093836117ff565b8101031261035557600191516114d9565b3d91506114fb565b9194935091602060408261155b600194895164ffffffffff602080926fffffffffffffffffffffffffffffffff8151168552015116910152565b01950192018693949291611490565b916001906fffffffffffffffffffffffffffffffff61158f60406103f0878b8a6116b6565b1601920161127b565b807ff8bf106c0000000000000000000000000000000000000000000000000000000060049252fd5b602435906001600160a01b038216820361035557565b9060607ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc830112610355576001600160a01b0391600435838116810361035557926024359081168103610355579160443567ffffffffffffffff9283821161035557806023830112156103555781600401359384116103555760248460051b83010111610355576024019190565b602090602060408183019282815285518094520193019160005b82811061168c575050505090565b83518552938101939281019260010161167e565b600435906001600160a01b038216820361035557565b91908110156116f65760051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff0181360301821215610355570190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b356fffffffffffffffffffffffffffffffff811681036103555790565b610100810190811067ffffffffffffffff82111761175f57604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b6040810190811067ffffffffffffffff82111761175f57604052565b610120810190811067ffffffffffffffff82111761175f57604052565b6060810190811067ffffffffffffffff82111761175f57604052565b6080810190811067ffffffffffffffff82111761175f57604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761175f57604052565b67ffffffffffffffff811161175f5760051b60200190565b9061186282611840565b61186f60405191826117ff565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe061189d8294611840565b0190602036910137565b356001600160a01b03811681036103555790565b3580151581036103555790565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610355570180359067ffffffffffffffff821161035557602001918160061b3603831361035557565b35906fffffffffffffffffffffffffffffffff8216820361035557565b359064ffffffffff8216820361035557565b92919261195782611840565b60409261196760405192836117ff565b819581835260208093019160061b84019381851161035557915b84831061199057505050505050565b85838303126103555783869182516119a78161178e565b6119b08661191c565b81526119bd838701611939565b83820152815201920191611981565b9190826040910312610355576040516119e48161178e565b809280356001600160a01b0381168103610355578252602090810135910152565b80518210156116f65760209160051b010190565b91908110156116f657610120020190565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe181360301821215610355570180359067ffffffffffffffff82116103555760200191606082023603831361035557565b929192611a8a82611840565b604094611a9a60405192836117ff565b8195848352602080930191606080960285019481861161035557925b858410611ac65750505050505050565b868483031261035557825190611adb826117c7565b611ae48561191c565b8252858501359067ffffffffffffffff8216820361035557828792838b950152611b0f868801611939565b86820152815201930192611ab6565b91908110156116f65760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee181360301821215610355570190565b3564ffffffffff811681036103555790565b91908110156116f657610140020190565b90604080516020907f23b872dd000000000000000000000000000000000000000000000000000000008282015233602482015260449030828201528660648201526064815260a081019080821067ffffffffffffffff83111761175f57611bea91855285611d86565b6001600160a01b0394858516958451917fdd62ed3e0000000000000000000000000000000000000000000000000000000083523060048401521690816024820152838184818a5afa908115611d6357908891600091611d32575b5010611c54575b50505050505050565b8351956000808589017f095ea7b3000000000000000000000000000000000000000000000000000000009a8b82528560248c0152868b0152858a52611c988a6117e3565b89519082855af190611ca8611e12565b82611cff575b5081611cf4575b50611c4b57611ce896611ce394519384015260248301526000818301528152611cdd816117e3565b82611d86565b611d86565b38808080808080611c4b565b90503b151538611cb5565b809192505190858215928315611d1a575b5050509038611cae565b611d2a9350820181019101611d6e565b388581611d10565b809250858092503d8311611d5c575b611d4b81836117ff565b810103126103555787905138611c44565b503d611d41565b85513d6000823e3d90fd5b90816020910312610355575180151581036103555790565b6000806001600160a01b03611db093169360208151910182865af1611da9611e12565b9083611e70565b8051908115159182611df7575b5050611dc65750565b602490604051907f5274afe70000000000000000000000000000000000000000000000000000000082526004820152fd5b611e0a9250602080918301019101611d6e565b153880611dbd565b3d15611e6b573d9067ffffffffffffffff821161175f5760405191611e5f60207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f84011601846117ff565b82523d6000602084013e565b606090565b90611eaf5750805115611e8557805190602001fd5b60046040517f1425ea42000000000000000000000000000000000000000000000000000000008152fd5b81511580611efa575b611ec0575090565b6024906001600160a01b03604051917f9996b315000000000000000000000000000000000000000000000000000000008352166004820152fd5b50803b15611eb856fea164736f6c6343000817000a";
    bytes public constant BYTECODE_MERKLE_LOCKUP_FACTORY =
        hex"6080806040523461001657614bfa908161001c8239f35b600080fdfe604060808152600490813610156200001657600080fd5b600091823560e01c80631e32387614620002425763769bed20146200003a57600080fd5b346200023e5760c07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc3601126200023e5767ffffffffffffffff9281358481116200023a576200008e90369084016200069b565b916024359173ffffffffffffffffffffffffffffffffffffffff918284168094036200023a57857fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc3601126200023a57620000e86200056a565b9664ffffffffff604435818116810362000236578952606435908116810362000232576020890152865191611e5a908184019284841090841117620002065750908291620009108339608081526200016b8862000149608084018a6200082e565b92886020820152018a6020908164ffffffffff91828151168552015116910152565b039082f0908115620001fb576020620001e287897f2ba0fe49588281dbb122dd3b7f3e2b3396338f70dbe3c62bf3e3888b4ba7ffb8620001c08a8a8a8a16968795875194859460c0865260c08601906200082e565b928a850152878401906020908164ffffffffff91828151168552015116910152565b608435608083015260a43560a08301520390a251908152f35b8551903d90823e3d90fd5b8460416024927f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8380fd5b8480fd5b5080fd5b8280fd5b508234620005675760a07ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc360112620005675767ffffffffffffffff9082358281116200023a576200029890369085016200069b565b91602480359273ffffffffffffffffffffffffffffffffffffffff958685168095036200023a57604435978489116200023e573660238a0112156200023e5788820135958587116200053c57602099620002f78b8960051b01620005ba565b97868c8a838152019160061b8301019136831162000538578701905b828210620004f1575050509083978485995b89518b1015620003a25788806200033d8d8d6200078a565b51511691160188811162000377579392919060019064ffffffffff8e620003658e8e6200078a565b51015116019a01999091929362000325565b87876011887f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b8c96888a8c9697988f948216670de0b6b3a76400008103620004c457508851926124849182850193858510908511176200049a57505082916200040c916200276a843960608152620003f860608201896200082e565b908b8d8201528a81830391015288620008bd565b039082f09081156200048f575091620004707ffe44018cf74992b2720702385a1728bd329dd136e4f651203176c81c12710a8b94926200045e9416978896885195869560c0875260c08701906200082e565b918b86015284820389860152620008bd565b906060830152606435608083015260843560a08301520390a251908152f35b8651903d90823e3d90fd5b604186917f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b89517f1b05170a000000000000000000000000000000000000000000000000000000008152918201529050fd5b84823603126200053857620005056200056a565b82358a811681036200053457815285918e916200052485840162000612565b8382015281520191019062000313565b8880fd5b8680fd5b50506041907f4e487b7100000000000000000000000000000000000000000000000000000000835252fd5b80fd5b604051906040820182811067ffffffffffffffff8211176200058b57604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f604051930116820182811067ffffffffffffffff8211176200058b57604052565b359081151582036200060d57565b600080fd5b359064ffffffffff821682036200060d57565b81601f820112156200060d5780359067ffffffffffffffff82116200058b576200067760207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f85011601620005ba565b92828452602083830101116200060d57816000926020809301838601378301015290565b9190916101009081818503126200060d5760405191820167ffffffffffffffff90838110828211176200058b576040528294823573ffffffffffffffffffffffffffffffffffffffff9081811681036200060d578552620006ff60208501620005ff565b6020860152620007126040850162000612565b6040860152606084013590811681036200060d57606085015260808301358281116200060d57816200074691850162000625565b608085015260a083013560a085015260c08301359182116200060d57826200077960e09492620007859486940162000625565b60c086015201620005ff565b910152565b80518210156200079f5760209160051b010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b919082519283825260005b848110620008195750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006020809697860101520116010190565b602081830181015184830182015201620007d9565b9060e080620008b26200089561010073ffffffffffffffffffffffffffffffffffffffff80885116875260208801511515602088015264ffffffffff60408901511660408801526060880151166060870152608087015190806080880152860190620007ce565b60a086015160a086015260c086015185820360c0870152620007ce565b930151151591015290565b90815180825260208080930193019160005b828110620008de575050505090565b8351805167ffffffffffffffff16865282015164ffffffffff168583015260409094019392810192600101620008cf56fe6101608060405234620005ba5762001e5a8038038091620000218285620005db565b833981019080820360808112620005ba5781516001600160401b038111620005ba5782019061010082850312620005ba576040519361010085016001600160401b03811186821017620005a45760405282516001600160a01b0381168103620005ba5785526200009460208401620005ff565b9260208601938452620000aa604082016200060d565b604087019081526060820151909690926001600160a01b0384168403620005ba576060820193845260808301516001600160401b038111620005ba5781620000f491850162000661565b6080830190815260a08085015190840190815260c085015191949092906001600160401b038311620005ba576200013460e0926200014094830162000661565b60c086015201620005ff565b60e083019081526020880151959093906001600160a01b0387168703620005ba57604090603f190112620005ba5760408051989089016001600160401b0381118a821017620005a457620001ab91606091604052620001a2604082016200060d565b8b52016200060d565b946020890195865260c0840151516020811162000585575051600080546001600160a01b0319166001600160a01b0392831617815584519091166080529651151560a052975164ffffffffff90811660c052975180516001600160401b038111620005715760019182548381811c9116801562000566575b60208210146200055257601f811162000505575b50602090601f8311600114620004995760c095949392918a91836200048d575b5050600019600383901b1c191690821b1790555b5160e05201516040516200029f602082816200029181830196878151938492016200063c565b8101038084520182620005db565b51905190602081106200047a575b50610100525115159461012095865261014094838652511669ffffffffff0000000000600454925160281b169160018060501b031916171760045560018060a01b03608051166040519160208301848063095ea7b360e01b9283815260018060a01b03851660248801526000196044880152604487526200032e87620005bf565b86519082875af16200033f620006ae565b8162000439575b50806200042e575b15620003e2575b60405161168a90878983620007d0843960805183818161089201528181610b8e0152611213015260a051838181610bb501526110de015260c05183818161019e01528181610f400152818161138401526115a8015260e0518381816106e50152610aa001526101005183611419015251828181610bdd01526110a10152518181816102c10152610d4f0152f35b62000423946200041d9260405192602084015260018060a01b031660248301526044820152604481526200041681620005bf565b82620006e3565b620006e3565b388080808062000355565b50823b15156200034e565b805180159250821562000450575b50503862000346565b8192509060209181010312620004765760206200046e9101620005ff565b388062000447565b8580fd5b6000199060200360031b1b1638620002ad565b01519050388062000257565b838a5260208a209190601f1984168b5b818110620004ee575091859492918360c0999897959310620004d4575b505050811b0190556200026b565b015160001960f88460031b161c19169055388080620004c6565b8284015185559386019360209384019301620004a9565b838a5260208a20601f840160051c8101916020851062000547575b601f0160051c019084905b8281106200053b57505062000237565b8b81550184906200052b565b909150819062000520565b634e487b7160e01b8a52602260045260248afd5b90607f169062000223565b634e487b7160e01b88526041600452602488fd5b6044906040519063a52d539b60e01b8252600482015260206024820152fd5b634e487b7160e01b600052604160045260246000fd5b600080fd5b608081019081106001600160401b03821117620005a457604052565b601f909101601f19168101906001600160401b03821190821017620005a457604052565b51908115158203620005ba57565b519064ffffffffff82168203620005ba57565b6001600160401b038111620005a457601f01601f191660200190565b60005b838110620006505750506000910152565b81810151838201526020016200063f565b81601f82011215620005ba5780516200067a8162000620565b926200068a6040519485620005db565b81845260208284010111620005ba57620006ab91602080850191016200063c565b90565b3d15620006de573d90620006c28262000620565b91620006d26040519384620005db565b82523d6000602084013e565b606090565b600080620007109260018060a01b03169360208151910182865af162000708620006ae565b908362000767565b805190811515918262000740575b5050620007285750565b60249060405190635274afe760e01b82526004820152fd5b8192509060209181010312620005ba5760206200075e9101620005ff565b1538806200071e565b906200079057508051156200077e57805190602001fd5b604051630a12f52160e11b8152600490fd5b81511580620007c5575b620007a3575090565b604051639996b31560e01b81526001600160a01b039091166004820152602490fd5b50803b156200079a56fe608080604052600436101561001357600080fd5b600090813560e01c90816306fdde0314611401575080631686c9091461110357806316c3549d146110c65780631bfd6814146110895780632c5a6fb814610f965780633bfe03a814610f675780633f31ae3f146108b65780634800d97f1461086557806349fc73dd1461072d5780634e390d3e1461070857806351e75e8b146106cd57806363e55549146106125780636900ebd01461055357806375829def1461047557806390e64d131461045a57806393273335146102e55780639e93e57714610294578063a8ef018a146101c2578063bb4b573414610180578063ce5165071461013d5763f851a4401461010857600080fd5b3461013a578060031936011261013a5773ffffffffffffffffffffffffffffffffffffffff6020915416604051908152f35b80fd5b503461013a57602060031936011261013a57602061017660043560ff6001918060081c6000526002602052161b60406000205416151590565b6040519015158152f35b503461013a578060031936011261013a57602060405164ffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b503461013a576020908160031936011261013a576024908273ffffffffffffffffffffffffffffffffffffffff6101f76114b0565b16604051938480927fc44b11f70000000000000000000000000000000000000000000000000000000082523060048301525afa918215610287578192610249575b50506102476040518092611564565bf35b9091508281813d8311610280575b6102618183611523565b8101031261027c575190600382101561013a57503880610238565b5080fd5b503d610257565b50604051903d90823e3d90fd5b503461013a578060031936011261013a57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b503461013a57608060031936011261013a5760043573ffffffffffffffffffffffffffffffffffffffff808216809203610456576024359160038310156103fb57604435926002841015610452576064359280841680940361044e578554163381036103ff575090849291813b156103fb57836064926103949460405197889687957fc8992e610000000000000000000000000000000000000000000000000000000087526004870190611564565b602485015260448401525af180156103f0576103ae575080f35b67ffffffffffffffff81116103c35760405280f35b6024827f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6040513d84823e3d90fd5b8380fd5b6040517fc6cce6a400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff919091166004820152336024820152604490fd5b8580fd5b8480fd5b8280fd5b503461013a578060031936011261013a5760206101766115a0565b503461013a57602060031936011261013a5761048f6114b0565b90805473ffffffffffffffffffffffffffffffffffffffff80821693338503610506577fffffffffffffffffffffffff00000000000000000000000000000000000000009394501691829116178255337fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf808380a380f35b6040517fc6cce6a400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff86166004820152336024820152604490fd5b503461013a57604060031936011261013a5761056d6114b0565b60243560038110156104565773ffffffffffffffffffffffffffffffffffffffff808454163381036103ff57506024602092856105d99360405196879586947f1a33757d0000000000000000000000000000000000000000000000000000000086526004860190611564565b165af180156103f0576105ea575080f35b602090813d831161060b575b6106008183611523565b8101031261013a5780f35b503d6105f6565b503461013a576020908160031936011261013a5760248273ffffffffffffffffffffffffffffffffffffffff6106466114b0565b16604051928380927fe12f3a610000000000000000000000000000000000000000000000000000000082523060048301525afa9182156106c1578092610691575b5050604051908152f35b9091508282813d83116106ba575b6106a98183611523565b8101031261013a5750513880610687565b503d61069f565b604051903d90823e3d90fd5b503461013a578060031936011261013a5760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b503461013a578060031936011261013a57602064ffffffffff60035416604051908152f35b503461013a578060031936011261013a57604051600180548082169181811c918590841561085b575b602094858510811461082e578487529081156107ee5750600114610795575b6107918561078581890382611523565b6040519182918261144a565b0390f35b929450600183527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf65b8284106107db575050508161079193610785928201019338610775565b80548585018701529285019281016107be565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001686860152505050151560051b82010191506107858161079138610775565b6024837f4e487b710000000000000000000000000000000000000000000000000000000081526022600452fd5b92607f1692610756565b503461013a578060031936011261013a57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b503461013a57608060031936011261013a576024359073ffffffffffffffffffffffffffffffffffffffff8216820361013a57604435906fffffffffffffffffffffffffffffffff8216820361013a5767ffffffffffffffff6064351161013a5736602360643501121561013a5767ffffffffffffffff606435600401351161013a573660246064356004013560051b60643501011161013a57604051600435602082015273ffffffffffffffffffffffffffffffffffffffff841660408201526fffffffffffffffffffffffffffffffff831660608201526060815280608081011067ffffffffffffffff6080830111176103c357608081016040526080815160208301209160a081019283526020828201526109d58282016114d8565b01519020926109e26115a0565b610f0a57610a0b60043560ff6001918060081c6000526002602052161b60406000205416151590565b610ed85760405193610a2960206064356004013560051b0186611523565b60643560048101358652602401602086015b60246064356004013560051b60643501018210610ec85750509082915b8551831015610a9b5760208360051b8701015190818110600014610a8a5784526020526001604084205b920191610a58565b908452602052600160408420610a82565b8484917f000000000000000000000000000000000000000000000000000000000000000003610e9e5760035464ffffffffff811615610e6a575b5060043560081c8252600260205260408220600160ff600435161b815417905573ffffffffffffffffffffffffffffffffffffffff825416604051610b19816114d8565b83815283602082015260405191610100830183811067ffffffffffffffff821117610e3d57604052825273ffffffffffffffffffffffffffffffffffffffff851660208301526fffffffffffffffffffffffffffffffff8316604083015273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001660608301527f0000000000000000000000000000000000000000000000000000000000000000151560808301527f0000000000000000000000000000000000000000000000000000000000000000151560a0830152604051610c0f816114d8565b64ffffffffff600454818116835260281c16602082015260c083015260e0820152602060e0604051927fab167ccc00000000000000000000000000000000000000000000000000000000845273ffffffffffffffffffffffffffffffffffffffff815116600485015273ffffffffffffffffffffffffffffffffffffffff838201511660248501526fffffffffffffffffffffffffffffffff604082015116604485015273ffffffffffffffffffffffffffffffffffffffff606082015116606485015260808101511515608485015260a0810151151560a485015264ffffffffff8360c08301518281511660c488015201511660e4850152015173ffffffffffffffffffffffffffffffffffffffff8151166101048401520151610124820152602081610144818673ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165af19283156106c1578093610de6575b60208480857f28b58397e03322f670d6b223cc863f8c148e368b8b615412e6798a641a22842d604073ffffffffffffffffffffffffffffffffffffffff8b6fffffffffffffffffffffffffffffffff835195600435875216888601521692a3604051908152f35b909192506020823d602011610e35575b81610e0360209383611523565b8101031261013a57505190807f28b58397e03322f670d6b223cc863f8c148e368b8b615412e6798a641a22842d610d7f565b3d9150610df6565b6024867f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b7fffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000164264ffffffffff161760035583610ad5565b60046040517f0fa7d73c000000000000000000000000000000000000000000000000000000008152fd5b8135815260209182019101610a3b565b60246040517f712b37a30000000000000000000000000000000000000000000000000000000081526004356004820152fd5b60446040517f442b184100000000000000000000000000000000000000000000000000000000815242600482015264ffffffffff7f0000000000000000000000000000000000000000000000000000000000000000166024820152fd5b503461013a578060031936011261013a57604060045464ffffffffff825191818116835260281c166020820152f35b503461013a57606060031936011261013a57610fb06114b0565b73ffffffffffffffffffffffffffffffffffffffff9060443582811681036103fb57828454163381036103ff57506040517faad3ec9600000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff919091166004820152602480359082015291602091839160449183918791165af19081156103f0578291611053575b602082604051908152f35b90506020813d602011611081575b8161106e60209383611523565b8101031261027c57602091505138611048565b3d9150611061565b503461013a578060031936011261013a5760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b503461013a578060031936011261013a5760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b503461013a57604060031936011261013a5761111d6114b0565b6024908135916fffffffffffffffffffffffffffffffff83168093036103fb5773ffffffffffffffffffffffffffffffffffffffff808554163381036103ff575064ffffffffff8060035416801515806113be575b806113af575b611350575050604051916020928381017fa9059cbb0000000000000000000000000000000000000000000000000000000081528780836111de8a8a8884016020909392919373ffffffffffffffffffffffffffffffffffffffff60408201951681520152565b03926112107fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe094858101875286611523565b867f00000000000000000000000000000000000000000000000000000000000000001694519082865af13d15611343573d67ffffffffffffffff81116113175790611279929161126a8860405194601f8401160184611523565b82523d8a8884013e5b836115dd565b80518581151591826112f2575b505090506112c457505090817f2e9d425ba8b27655048400b366d7b6a1f7180ebdb088e06bb7389704860ffe1f92865416936040519586521693a380f35b604051907f5274afe70000000000000000000000000000000000000000000000000000000082526004820152fd5b83809293500103126113135784015180159081150361131357808538611286565b8780fd5b848a7f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6112799150606090611273565b6064925083604051927f92b666970000000000000000000000000000000000000000000000000000000084524260048501527f000000000000000000000000000000000000000000000000000000000000000016908301526044820152fd5b506113b86115a0565b15611178565b5062093a8081018281116113d55782164211611172565b84887f4e487b710000000000000000000000000000000000000000000000000000000081526011600452fd5b90503461027c578160031936011261027c57610791907f0000000000000000000000000000000000000000000000000000000000000000602082015260208152610785816114d8565b60208082528251818301819052939260005b85811061149c575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b81810183015184820160400152820161145c565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036114d357565b600080fd5b6040810190811067ffffffffffffffff8211176114f457604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff8211176114f457604052565b9060038210156115715752565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b64ffffffffff7f00000000000000000000000000000000000000000000000000000000000000001680151590816115d5575090565b905042101590565b9061161c57508051156115f257805190602001fd5b60046040517f1425ea42000000000000000000000000000000000000000000000000000000008152fd5b81511580611674575b61162d575090565b60249073ffffffffffffffffffffffffffffffffffffffff604051917f9996b315000000000000000000000000000000000000000000000000000000008352166004820152fd5b50803b1561162556fea164736f6c6343000817000a6101608060405234620006e7576200248490813803809262000022828462000733565b82396060818381010312620006e75780516001600160401b038111620006e7578101916101009283818385010312620006e757604051908482016001600160401b03811183821017620007015760405280516001600160a01b0381168103620006e7578252620000956020820162000757565b6020830152620000a86040820162000765565b604083015260608101516001600160a01b0381168103620006e757606083015260808101516001600160401b038111620006e757620000ed90848601908301620007b9565b608083015260a0818101519083015260c08101516001600160401b038111620006e75762000134916200012860e092868801908301620007b9565b60c08501520162000757565b60e08201526020830151916001600160a01b0383168303620006e7576040840151906001600160401b038211620006e757808501601f838701011215620006e75784820151906001600160401b0382116200070157604051956200019f60208460051b018862000733565b828752602087019382820160208560061b838501010111620006e75793602085830101945b60208560061b82850101018610620006815750505050505060c081015151602081116200066257506060810151600080546001600160a01b0319166001600160a01b03928316178155825190911660809081526020830151151560a052604083015164ffffffffff1660c0528201518051919290916001600160401b0381116200064e5760019283548481811c9116801562000643575b60208210146200062f57601f8111620005e2575b50602090601f8311600114620005785760e09392918691836200056c575b5050600019600383901b1c191690841b1783555b60a0810151825260c0810151604051620002db60208281620002cd818301968781519384920162000794565b810103808452018262000733565b519051906020811062000559575b5087520151151593610120948552610140938452805190835b82811062000499575050505060018060a01b036080511660018060a01b03835116906040519160208301848063095ea7b360e01b92838152846024880152600019604488015260448752620003578762000717565b86519082875af16200036862000806565b8162000458575b50806200044d575b1562000409575b604051611b5c9087898b8462000928853960805184818161090301528181610cc20152611522015260a051848181610ce901526113ed015260c051848181610260015281816112510152818161169301526118b7015260e0518481816107560152610b0301525183611728015251828181610d1101526113b001525181818161016a0152610e790152f35b62000442946200043c926040519260208401526024830152604482015260448152620004358162000717565b826200083b565b6200083b565b38808080806200037e565b50823b151562000377565b80518015925082156200046f575b5050386200036f565b8192509060209181010312620004955760206200048d910162000757565b388062000466565b8580fd5b8151811015620005455760208160051b8301015160048054906801000000000000000082101562000532578682018082558210156200051f578752602080882083519201805493909101516cffffffffff000000000000000060409190911b166001600160401b039092166001600160681b031990931692909217179055830162000302565b634e487b7160e01b885260329052602487fd5b634e487b7160e01b885260419052602487fd5b634e487b7160e01b85526032600452602485fd5b6000199060200360031b1b1638620002e9565b0151905038806200028d565b92918491601f198216908388526020882091885b818110620005c95750958360e09710620005af575b505050811b018355620002a1565b015160001960f88460031b161c19169055388080620005a1565b828801518455889590930192602092830192016200058c565b84865260208620601f840160051c8101916020851062000624575b601f0160051c019085905b828110620006185750506200026f565b87815501859062000608565b9091508190620005fd565b634e487b7160e01b86526022600452602486fd5b90607f16906200025b565b634e487b7160e01b84526041600452602484fd5b6044906040519063a52d539b60e01b8252600482015260206024820152fd5b6040868585010312620006e757604080519081016001600160401b03811182821017620006ec5760405286516001600160401b0381168103620006e75760209382859260409452620006d5838b0162000765565b838201528152019601959150620001c4565b600080fd5b60246000634e487b7160e01b81526041600452fd5b634e487b7160e01b600052604160045260246000fd5b608081019081106001600160401b038211176200070157604052565b601f909101601f19168101906001600160401b038211908210176200070157604052565b51908115158203620006e757565b519064ffffffffff82168203620006e757565b6001600160401b0381116200070157601f01601f191660200190565b60005b838110620007a85750506000910152565b818101518382015260200162000797565b81601f82011215620006e7578051620007d28162000778565b92620007e2604051948562000733565b81845260208284010111620006e75762000803916020808501910162000794565b90565b3d1562000836573d906200081a8262000778565b916200082a604051938462000733565b82523d6000602084013e565b606090565b600080620008689260018060a01b03169360208151910182865af16200086062000806565b9083620008bf565b805190811515918262000898575b5050620008805750565b60249060405190635274afe760e01b82526004820152fd5b8192509060209181010312620006e7576020620008b6910162000757565b15388062000876565b90620008e85750805115620008d657805190602001fd5b604051630a12f52160e11b8152600490fd5b815115806200091d575b620008fb575090565b604051639996b31560e01b81526001600160a01b039091166004820152602490fd5b50803b15620008f256fe608080604052600436101561001357600080fd5b600090813560e01c90816306fdde0314611710575080631686c9091461141257806316c3549d146113d55780631bfd6814146113985780632c5a6fb8146112a55780633f31ae3f146109275780634800d97f146108d657806349fc73dd1461079e5780634e390d3e1461077957806351e75e8b1461073e57806363e55549146106835780636900ebd0146105c457806375829def146104e657806390e64d13146104cb5780639327333514610356578063a8ef018a14610284578063bb4b573414610242578063bf4ed03f146101d1578063ce5165071461018e578063da7924681461013d5763f851a4401461010857600080fd5b3461013a578060031936011261013a5773ffffffffffffffffffffffffffffffffffffffff6020915416604051908152f35b80fd5b503461013a578060031936011261013a57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b503461013a57602060031936011261013a5760206101c760043560ff6001918060081c6000526002602052161b60406000205416151590565b6040519015158152f35b503461013a578060031936011261013a576101ea611904565b60405190602080830190808452825180925280604085019301945b8281106102125784840385f35b8551805167ffffffffffffffff16855282015164ffffffffff168483015294810194604090930192600101610205565b503461013a578060031936011261013a57602060405164ffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b503461013a576020908160031936011261013a576024908273ffffffffffffffffffffffffffffffffffffffff6102b96117bf565b16604051938480927fc44b11f70000000000000000000000000000000000000000000000000000000082523060048301525afa91821561034957819261030b575b50506103096040518092611873565bf35b9091508281813d8311610342575b6103238183611832565b8101031261033e575190600382101561013a575038806102fa565b5080fd5b503d610319565b50604051903d90823e3d90fd5b503461013a57608060031936011261013a5760043573ffffffffffffffffffffffffffffffffffffffff8082168092036104c75760243591600383101561046c576044359260028410156104c357606435928084168094036104bf57855416338103610470575090849291813b1561046c57836064926104059460405197889687957fc8992e610000000000000000000000000000000000000000000000000000000087526004870190611873565b602485015260448401525af180156104615761041f575080f35b67ffffffffffffffff81116104345760405280f35b6024827f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6040513d84823e3d90fd5b8380fd5b6040517fc6cce6a400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff919091166004820152336024820152604490fd5b8580fd5b8480fd5b8280fd5b503461013a578060031936011261013a5760206101c76118af565b503461013a57602060031936011261013a576105006117bf565b90805473ffffffffffffffffffffffffffffffffffffffff80821693338503610577577fffffffffffffffffffffffff00000000000000000000000000000000000000009394501691829116178255337fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf808380a380f35b6040517fc6cce6a400000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff86166004820152336024820152604490fd5b503461013a57604060031936011261013a576105de6117bf565b60243560038110156104c75773ffffffffffffffffffffffffffffffffffffffff80845416338103610470575060246020928561064a9360405196879586947f1a33757d0000000000000000000000000000000000000000000000000000000086526004860190611873565b165af180156104615761065b575080f35b602090813d831161067c575b6106718183611832565b8101031261013a5780f35b503d610667565b503461013a576020908160031936011261013a5760248273ffffffffffffffffffffffffffffffffffffffff6106b76117bf565b16604051928380927fe12f3a610000000000000000000000000000000000000000000000000000000082523060048301525afa918215610732578092610702575b5050604051908152f35b9091508282813d831161072b575b61071a8183611832565b8101031261013a57505138806106f8565b503d610710565b604051903d90823e3d90fd5b503461013a578060031936011261013a5760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b503461013a578060031936011261013a57602064ffffffffff60035416604051908152f35b503461013a578060031936011261013a57604051600180548082169181811c91859084156108cc575b602094858510811461089f5784875290811561085f5750600114610806575b610802856107f681890382611832565b60405191829182611759565b0390f35b929450600183527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf65b82841061084c5750505081610802936107f69282010193386107e6565b805485850187015292850192810161082f565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001686860152505050151560051b82010191506107f681610802386107e6565b6024837f4e487b710000000000000000000000000000000000000000000000000000000081526022600452fd5b92607f16926107c7565b503461013a578060031936011261013a57602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b503461013a57608060031936011261013a5760243573ffffffffffffffffffffffffffffffffffffffff8116810361033e576fffffffffffffffffffffffffffffffff604435166044350361033e5760643567ffffffffffffffff81116104c757366023820112156104c75767ffffffffffffffff8160040135116104c757366024826004013560051b830101116104c75760405160208101600435815273ffffffffffffffffffffffffffffffffffffffff841660408301526fffffffffffffffffffffffffffffffff6044351660608301526060825281608081011067ffffffffffffffff60808401111761127857608090818301604052825190209160a08101928352602082820152610a3e8282016117e7565b01519020610a4a6118af565b61121b57610a7360043560ff6001918060081c6000526002602052161b60406000205416151590565b6111e957610a8482600401356118ec565b91610a926040519384611832565b6004810135835260248101602084015b6024836004013560051b84010182106111d9575050509083915b8151831015610afe57610acf838361199f565b519081811015610aed5785526020526001604085205b920191610abc565b908552602052600160408520610ae5565b9150507f0000000000000000000000000000000000000000000000000000000000000000036111af5760035464ffffffffff81161561117b575b50610b41611904565b91808351610b4e816118ec565b94610b5c6040519687611832565b8186527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0610b89836118ec565b01845b81811061115857505083905b8282106110355750506fffffffffffffffffffffffffffffffff604435166fffffffffffffffffffffffffffffffff831611611008576fffffffffffffffffffffffffffffffff604435166fffffffffffffffffffffffffffffffff831610610fb4575b505060043560081c8152600260205260408120600160ff600435161b815417905573ffffffffffffffffffffffffffffffffffffffff8154169260405190610c43826117e7565b828252826020830152604051948561010081011067ffffffffffffffff61010088011117610f87576101008601604052855273ffffffffffffffffffffffffffffffffffffffff841660208601526fffffffffffffffffffffffffffffffff60443516604086015273ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001660608601527f0000000000000000000000000000000000000000000000000000000000000000151560808601527f0000000000000000000000000000000000000000000000000000000000000000151560a086015260c085015260e0840152604051927f897f362b0000000000000000000000000000000000000000000000000000000084526020600485015283610144810173ffffffffffffffffffffffffffffffffffffffff835116602483015273ffffffffffffffffffffffffffffffffffffffff60208401511660448301526fffffffffffffffffffffffffffffffff604084015116606483015273ffffffffffffffffffffffffffffffffffffffff60608401511660848301526080830151151560a483015260a0830151151560c483015260c08301519061012060e4840152815180915260206101648401920190855b818110610f49575050508190602060e08195015173ffffffffffffffffffffffffffffffffffffffff815116610104850152015161012483015203818473ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165af1928315610349578193610f12575b60208480857f28b58397e03322f670d6b223cc863f8c148e368b8b615412e6798a641a22842d604073ffffffffffffffffffffffffffffffffffffffff81519360043585526fffffffffffffffffffffffffffffffff60443516888601521692a3604051908152f35b9092506020813d602011610f41575b81610f2e60209383611832565b810103126104c757519150602038610ea9565b3d9150610f21565b825180516fffffffffffffffffffffffffffffffff16855260209081015164ffffffffff168186015289955060409094019390920191600101610e25565b6024847f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6fffffffffffffffffffffffffffffffff610ff27fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8293018761199f565b5192604435031681835116011690523880610bfc565b6024837f4e487b710000000000000000000000000000000000000000000000000000000081526001600452fd5b909261106a67ffffffffffffffff61104d868561199f565b5151166fffffffffffffffffffffffffffffffff604435166119e2565b6fffffffffffffffffffffffffffffffff8111611127576fffffffffffffffffffffffffffffffff8091169164ffffffffff60206110a8888761199f565b51015116604051906110b9826117e7565b84825260208201526110cb878b61199f565b526110d6868a61199f565b5016016fffffffffffffffffffffffffffffffff81116110fa579260010190610b98565b6024857f4e487b710000000000000000000000000000000000000000000000000000000081526011600452fd5b602490604051907f4916adce0000000000000000000000000000000000000000000000000000000082526004820152fd5b602090604051611167816117e7565b878152878382015282828b01015201610b8c565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000164264ffffffffff161760035538610b38565b60046040517f0fa7d73c000000000000000000000000000000000000000000000000000000008152fd5b8135815260209182019101610aa2565b60246040517f712b37a30000000000000000000000000000000000000000000000000000000081526004356004820152fd5b60446040517f442b184100000000000000000000000000000000000000000000000000000000815242600482015264ffffffffff7f0000000000000000000000000000000000000000000000000000000000000000166024820152fd5b6024857f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b503461013a57606060031936011261013a576112bf6117bf565b73ffffffffffffffffffffffffffffffffffffffff90604435828116810361046c578284541633810361047057506040517faad3ec9600000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff919091166004820152602480359082015291602091839160449183918791165af1908115610461578291611362575b602082604051908152f35b90506020813d602011611390575b8161137d60209383611832565b8101031261033e57602091505138611357565b3d9150611370565b503461013a578060031936011261013a5760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b503461013a578060031936011261013a5760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b503461013a57604060031936011261013a5761142c6117bf565b6024908135916fffffffffffffffffffffffffffffffff831680930361046c5773ffffffffffffffffffffffffffffffffffffffff80855416338103610470575064ffffffffff8060035416801515806116cd575b806116be575b61165f575050604051916020928381017fa9059cbb0000000000000000000000000000000000000000000000000000000081528780836114ed8a8a8884016020909392919373ffffffffffffffffffffffffffffffffffffffff60408201951681520152565b039261151f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe094858101875286611832565b867f00000000000000000000000000000000000000000000000000000000000000001694519082865af13d15611652573d67ffffffffffffffff8111611626579061158892916115798860405194601f8401160184611832565b82523d8a8884013e5b83611aaf565b8051858115159182611601575b505090506115d357505090817f2e9d425ba8b27655048400b366d7b6a1f7180ebdb088e06bb7389704860ffe1f92865416936040519586521693a380f35b604051907f5274afe70000000000000000000000000000000000000000000000000000000082526004820152fd5b83809293500103126116225784015180159081150361162257808538611595565b8780fd5b848a7f4e487b710000000000000000000000000000000000000000000000000000000081526041600452fd5b6115889150606090611582565b6064925083604051927f92b666970000000000000000000000000000000000000000000000000000000084524260048501527f000000000000000000000000000000000000000000000000000000000000000016908301526044820152fd5b506116c76118af565b15611487565b5062093a8081018281116116e45782164211611481565b84887f4e487b710000000000000000000000000000000000000000000000000000000081526011600452fd5b90503461033e578160031936011261033e57610802907f00000000000000000000000000000000000000000000000000000000000000006020820152602081526107f6816117e7565b60208082528251818301819052939260005b8581106117ab575050507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8460006040809697860101520116010190565b81810183015184820160400152820161176b565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036117e257565b600080fd5b6040810190811067ffffffffffffffff82111761180357604052565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff82111761180357604052565b9060038210156118805752565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602160045260246000fd5b64ffffffffff7f00000000000000000000000000000000000000000000000000000000000000001680151590816118e4575090565b905042101590565b67ffffffffffffffff81116118035760051b60200190565b60045490611911826118ec565b9160406119216040519485611832565b8184528360208091019160046000527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b906000935b85851061196557505050505050565b60018481928451611975816117e7565b64ffffffffff875467ffffffffffffffff81168352871c1683820152815201930194019391611956565b80518210156119b35760209160051b010190565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b9190917fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff83820983820291828083109203918083039214611a9e57670de0b6b3a76400009081831015611a6757947faccb18165bd6fe31ae1cf318dc5b51eee0e1ba569b88cd74c1773b91fac1066994950990828211900360ee1b910360121c170290565b60449086604051917f5173648d00000000000000000000000000000000000000000000000000000000835260048301526024820152fd5b5050670de0b6b3a764000090049150565b90611aee5750805115611ac457805190602001fd5b60046040517f1425ea42000000000000000000000000000000000000000000000000000000008152fd5b81511580611b46575b611aff575090565b60249073ffffffffffffffffffffffffffffffffffffffff604051917f9996b315000000000000000000000000000000000000000000000000000000008352166004820152fd5b50803b15611af756fea164736f6c6343000817000aa164736f6c6343000817000a";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {SablierV2BatchLockup} from precompiled bytecode.
    function deployBatchLockup(address initialAdmin) public returns (ISablierV2BatchLockup batchLockup) {
        bytes memory creationBytecode = bytes.concat(BYTECODE_BATCH_LOCKUP, abi.encode(initialAdmin));
        assembly {
            batchLockup := create(0, add(creationBytecode, 0x20), mload(creationBytecode))
        }
        require(
            address(batchLockup) != address(0), "Sablier V2 Precompiles: deployment failed for BatchLockup contract"
        );
    }

    /// @notice Deploys {SablierV2MerkleLockupFactory} from precompiled bytecode.
    function deployMerkleLockupFactory(address initialAdmin) public returns (ISablierV2MerkleLockupFactory factory) {
        bytes memory creationBytecode = bytes.concat(BYTECODE_MERKLE_LOCKUP_FACTORY, abi.encode(initialAdmin));
        assembly {
            factory := create(0, add(creationBytecode, 0x20), mload(creationBytecode))
        }
        require(
            address(factory) != address(0), "Sablier V2 Precompiles: deployment failed for MerkleLockupFactory contract"
        );
    }

    /// @notice Deploys all V2 Periphery contracts in the following order:
    ///
    /// 1. {SablierV2BatchLockup}
    /// 2. {SablierV2MerkleLockupFactory}
    function deployPeriphery(address initialAdmin)
        public
        returns (ISablierV2BatchLockup batchLockup, ISablierV2MerkleLockupFactory merkleLockupFactory)
    {
        batchLockup = deployBatchLockup(initialAdmin);
        merkleLockupFactory = deployMerkleLockupFactory(initialAdmin);
    }

    /// @notice Deploys the entire Sablier V2 Protocol from precompiled bytecode.
    ///
    /// 1. {SablierV2NFTDescriptor}
    /// 2. {SablierV2LockupDynamic}
    /// 3. {SablierV2LockupLinear}
    /// 4. {SablierV2LockupTranched}
    /// 5. {SablierV2BatchLockup}
    /// 6. {SablierV2MerkleLockupFactory}
    function deployProtocol(address initialAdmin)
        public
        returns (
            ISablierV2LockupDynamic lockupDynamic,
            ISablierV2LockupLinear lockupLinear,
            ISablierV2LockupTranched lockupTranched,
            ISablierV2NFTDescriptor nftDescriptor,
            ISablierV2BatchLockup batchLockup,
            ISablierV2MerkleLockupFactory merkleLockupFactory
        )
    {
        // Deploy V2 Core.
        (lockupDynamic, lockupLinear, lockupTranched, nftDescriptor) = new V2CorePrecompiles().deployCore(initialAdmin);

        // Deploy V2 Periphery.
        (batchLockup, merkleLockupFactory) = deployPeriphery(initialAdmin);
    }
}
