// SPDX-License-Identifier: GPL-3.0-or-later
// solhint-disable max-line-length,no-inline-assembly,reason-string
pragma solidity >=0.8.22;

import { Precompiles as V2CorePrecompiles } from "@sablier/v2-core/precompiles/Precompiles.sol";
import { ISablierV2LockupDynamic } from "@sablier/v2-core/src/interfaces/ISablierV2LockupDynamic.sol";
import { ISablierV2LockupLinear } from "@sablier/v2-core/src/interfaces/ISablierV2LockupLinear.sol";
import { ISablierV2LockupTranched } from "@sablier/v2-core/src/interfaces/ISablierV2LockupTranched.sol";
import { ISablierV2NFTDescriptor } from "@sablier/v2-core/src/interfaces/ISablierV2NFTDescriptor.sol";

import { ISablierV2BatchLockup } from "../src/interfaces/ISablierV2BatchLockup.sol";
import { ISablierV2MerkleLockupFactory } from "../src/interfaces/ISablierV2MerkleLockupFactory.sol";

contract Precompiles {
    /*//////////////////////////////////////////////////////////////////////////
                                     BYTECODES
    //////////////////////////////////////////////////////////////////////////*/

    bytes public constant BYTECODE_BATCH_LOCKUP =
        hex"608034609357601f6123de38819003918201601f19168301916001600160401b03831184841017609757808492602094604052833981010312609357516001600160a01b038116908190036093575f80546001600160a01b0319168217815560405191907fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf808180a361233290816100ac8239f35b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe60806040526004361015610011575f80fd5b5f803560e01c80632c5a6fb81461191857806337266dd3146115f057806349a32c40146112a9578063606ef87514610f4557806363e5554914610ea25780636900ebd014610ded57806375829def14610d675780639327333514610c585780639e743f29146108fd578063a514f83e14610548578063a8ef018a14610481578063f7ca34eb146100d15763f851a440146100a9575f80fd5b346100ce57806003193601126100ce576001600160a01b036020915416604051908152f35b80fd5b50346100ce576100e036611a18565b928315610459578490855b85811061042557506001600160a01b036101089116918483611f95565b61011184611c73565b936001600160a01b03869416935b81811061013857604051806101348882611a6f565b0390f35b610143818386611f32565b61014c90611cc2565b9085610159828588611f32565b60200161016590611cc2565b610170838689611f32565b60400161017c90611c3e565b938561018985828b611f32565b60600161019590611cd6565b6101a086838c611f32565b6080016101ac90611cd6565b6101b787848d611f32565b60a0016101c390611f72565b918b886101d1818784611f32565b60c081016101de91611e41565b966101ea929193611f32565b60e00194604051966101fb88611b48565b6001600160a01b0316875260208701976001600160a01b03168852604087019a6fffffffffffffffffffffffffffffffff168b526060870198895260808701921515835260a08701931515845260c087019464ffffffffff168552369061026192611e95565b9360e086019485523661027391611de3565b966101008601978852604051998a977f31df3d480000000000000000000000000000000000000000000000000000000089526004890160209052610164890197516001600160a01b031660248a0152516001600160a01b03166044890152516fffffffffffffffffffffffffffffffff166064880152516001600160a01b0316608487015251151560a486015251151560c48501525164ffffffffff1660e48401525190610104830161014090528151809152610184830191602001908c905b8082106103c8575050925180516001600160a01b03166101248401526020908101516101448401529250819003818b885af180156103bd578890610387575b600192506103808289611e1c565b520161011f565b506020823d82116103b5575b816103a060209383611b81565b810103126103b15760019151610372565b5f80fd5b3d9150610393565b6040513d8a823e3d90fd5b91949350916020606082610416600194895164ffffffffff604080926fffffffffffffffffffffffffffffffff815116855267ffffffffffffffff6020820151166020860152015116910152565b01950192018693949291610333565b916001906fffffffffffffffffffffffffffffffff610450604061044a878b8a611f32565b01611c3e565b160192016100eb565b6004857ff8bf106c000000000000000000000000000000000000000000000000000000008152fd5b50346100ce5760206003193601126100ce57602460206001600160a01b036104a76119bb565b16604051928380927fc44b11f70000000000000000000000000000000000000000000000000000000082523060048301525afa90811561053d5782916104fa575b6020826104f86040518092611aa8565bf35b90506020813d602011610535575b8161051560209383611b81565b810103126105315751600381101561053157602091505f6104e8565b5080fd5b3d9150610508565b6040513d84823e3d90fd5b50346100ce5760606003193601126100ce576105626119bb565b9061056b6119d1565b60443567ffffffffffffffff81116108f957366023820112156108f95780600401359067ffffffffffffffff82116108f55760248101906024369161014085020101116108f55781156108cd578394845b83811061089f57506001600160a01b036105d99116958487611f95565b6105e282611c73565b946001600160a01b03859416935b83811061060557604051806101348982611a6f565b610618610613828686611f84565b611cc2565b9061062f6020610629838888611f84565b01611cc2565b61063f604061044a848989611f84565b610655606061064f858a8a611f84565b01611cd6565b610665608061064f868b8b611f84565b90610671858a8a611f84565b92610100610680878c8c611f84565b01906001600160a01b03604051986106978a611ae2565b1688526001600160a01b0360208901961686526fffffffffffffffffffffffffffffffff604089019116815260608801918c835260808901931515845260a08901941515855260607fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff60873603011261089b576040519561071687611b65565b61072260a08201611d54565b875261073060c08201611d54565b602088015260e00161074190611d54565b604087015260c089019586523661075791611de3565b9560e08901968752604051987f53b15727000000000000000000000000000000000000000000000000000000008a52516001600160a01b031660048a0152516001600160a01b03166024890152516fffffffffffffffffffffffffffffffff166044880152516001600160a01b03166064870152511515608486015251151560a485015251805164ffffffffff1660c4850152602081015164ffffffffff1660e48501526040015164ffffffffff1661010484015251610124830161082e91602080916001600160a01b0381511684520151910152565b868284815a9361016492602095f1801561089057879061085e575b60019250610857828a611e1c565b52016105f0565b506020823d8211610888575b8161087760209383611b81565b810103126103b15760019151610849565b3d915061086a565b6040513d89823e3d90fd5b8d80fd5b956001906fffffffffffffffffffffffffffffffff6108c4604061044a8b8989611f84565b160196016105bc565b6004847ff8bf106c000000000000000000000000000000000000000000000000000000008152fd5b8380fd5b8280fd5b50346100ce5761090c36611a18565b928315610459578490855b858110610c2a57506001600160a01b036109349116918483611f95565b61093d84611c73565b936001600160a01b03869416935b81811061096057604051806101348882611a6f565b61096b818386611f32565b61097490611cc2565b9085610981828588611f32565b60200161098d90611cc2565b610998838689611f32565b6040016109a490611c3e565b93856109b185828b611f32565b6060016109bd90611cd6565b6109c886838c611f32565b6080016109d490611cd6565b6109df87848d611f32565b60a0016109eb90611f72565b918b886109f9818784611f32565b60c08101610a0691611ce3565b96610a12929193611f32565b60e0019460405196610a2388611b48565b6001600160a01b0316875260208701976001600160a01b03168852604087019a6fffffffffffffffffffffffffffffffff168b526060870198895260808701921515835260a08701931515845260c087019464ffffffffff1685523690610a8992611d66565b9360e0860194855236610a9b91611de3565b966101008601978852604051998a977f32fbe22b0000000000000000000000000000000000000000000000000000000089526004890160209052610164890197516001600160a01b031660248a0152516001600160a01b03166044890152516fffffffffffffffffffffffffffffffff166064880152516001600160a01b0316608487015251151560a486015251151560c48501525164ffffffffff1660e48401525190610104830161014090528151809152610184830191602001908c905b808210610be1575050925180516001600160a01b03166101248401526020908101516101448401529250819003818b885af180156103bd578890610baf575b60019250610ba88289611e1c565b520161094b565b506020823d8211610bd9575b81610bc860209383611b81565b810103126103b15760019151610b9a565b3d9150610bbb565b91949350916020604082610c1b600194895164ffffffffff602080926fffffffffffffffffffffffffffffffff8151168552015116910152565b01950192018693949291610b5b565b916001906fffffffffffffffffffffffffffffffff610c4f604061044a878b8a611f32565b16019201610917565b50346103b15760806003193601126103b1576004356001600160a01b0381168091036103b15760243560038110156103b1576044359160028310156103b157606435906001600160a01b0382168092036103b1576001600160a01b035f5416338103610d385750803b156103b1575f9283606492610d059460405197889687957fc8992e610000000000000000000000000000000000000000000000000000000087526004870190611aa8565b602485015260448401525af18015610d2d57610d1f575080f35b610d2b91505f90611b81565b005b6040513d5f823e3d90fd5b7fc6cce6a4000000000000000000000000000000000000000000000000000000005f526004523360245260445ffd5b346103b15760206003193601126103b157610d806119bb565b5f546001600160a01b038116338103610d3857506001600160a01b037fffffffffffffffffffffffff0000000000000000000000000000000000000000921691829116175f55337fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf805f80a3005b346103b15760406003193601126103b157610e066119bb565b60243560038110156103b1576001600160a01b035f5416338103610d385750610e6b60246020925f6001600160a01b0360405196879586947f1a33757d0000000000000000000000000000000000000000000000000000000086526004860190611aa8565b165af18015610d2d57610e7a57005b610d2b9060203d602011610e9b575b610e938183611b81565b810190611bc2565b503d610e89565b346103b15760206003193601126103b157602460206001600160a01b03610ec76119bb565b16604051928380927fe12f3a610000000000000000000000000000000000000000000000000000000082523060048301525afa8015610d2d575f90610f12575b602090604051908152f35b506020813d602011610f3d575b81610f2c60209383611b81565b810103126103b15760209051610f07565b3d9150610f1f565b346103b157610f5336611a18565b9190928215611281575f905f5b84811061125357506001600160a01b03610f7d9116918383611f95565b610f8683611c73565b926001600160a01b035f9316925b818110610fa957604051806101348782611a6f565b610fb4818388611bd1565b610fbd90611cc2565b9082610fca82828a611bd1565b602001610fd690611cc2565b610fe183838b611bd1565b604001610fed90611c3e565b9389610ffa858583611bd1565b60600161100690611cd6565b611011868684611bd1565b60800161101d90611cd6565b908661102a818886611bd1565b60a0810161103791611e41565b97611043929195611bd1565b60c001926040519461105486611ae2565b6001600160a01b0316855260208501956001600160a01b0316865260408501986fffffffffffffffffffffffffffffffff16895260608501968c885260808601921515835260a08601931515845236906110ad92611e95565b9260c08501938452366110bf91611de3565b9560e085019687526040519889967f54c022920000000000000000000000000000000000000000000000000000000088526004880160209052610144880196516001600160a01b03166024890152516001600160a01b03166044880152516fffffffffffffffffffffffffffffffff166064870152516001600160a01b0316608486015251151560a485015251151560c4840152519060e4830161012090528151809152610164830191602001905f905b8082106111f6575050925180516001600160a01b03166101048401526020908101516101248401529250819003815f885af18015610d2d575f906111c4575b600192506111bd8288611e1c565b5201610f94565b506020823d82116111ee575b816111dd60209383611b81565b810103126103b157600191516111af565b3d91506111d0565b91949350916020606082611244600194895164ffffffffff604080926fffffffffffffffffffffffffffffffff815116855267ffffffffffffffff6020820151166020860152015116910152565b01950192018693949291611170565b916001906fffffffffffffffffffffffffffffffff611278604061044a878a8c611bd1565b16019201610f60565b7ff8bf106c000000000000000000000000000000000000000000000000000000005f5260045ffd5b346103b15760606003193601126103b1576112c26119bb565b6112ca6119d1565b906044359167ffffffffffffffff83116103b157366023840112156103b15782600401359267ffffffffffffffff84116103b15760248101906024369161012087020101116103b15783156112815790915f9190825b8581106115be57506001600160a01b0361133d9116928484611f95565b61134684611c73565b926001600160a01b03165f5b85811061136757604051806101348782611a6f565b611375610613828886611e30565b906113866020610629838a88611e30565b8785611398604061044a868585611e30565b6113a8606061064f878686611e30565b9060e06113d1876113ca81886113c4608061064f84848d611e30565b98611e30565b968c611e30565b01906001600160a01b03604051986113e88a611ae2565b1688526001600160a01b0360208901961686526fffffffffffffffffffffffffffffffff6040890191168152606088019189835260808901931515845260a08901941515855260407fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff6087360301126103b1576040519561146787611b2c565b61147360a08201611d54565b875260c00161148190611d54565b602087015260c089019586523661149791611de3565b9560e08901968752604051987fab167ccc000000000000000000000000000000000000000000000000000000008a52516001600160a01b031660048a0152516001600160a01b03166024890152516fffffffffffffffffffffffffffffffff166044880152516001600160a01b03166064870152511515608486015251151560a485015251805164ffffffffff1660c48501526020015164ffffffffff1660e484015251610104830161155c91602080916001600160a01b0381511684520151910152565b8180865a925f61014492602095f18015610d2d575f9061158c575b600192506115858288611e1c565b5201611352565b506020823d82116115b6575b816115a560209383611b81565b810103126103b15760019151611577565b3d9150611598565b93926001906fffffffffffffffffffffffffffffffff6115e4604061044a898b89611e30565b16019401939293611320565b346103b1576115fe36611a18565b9190928215611281575f905f5b8481106118ea57506001600160a01b036116289116918383611f95565b61163183611c73565b926001600160a01b035f9316925b81811061165457604051806101348782611a6f565b61165f818388611bd1565b61166890611cc2565b908261167582828a611bd1565b60200161168190611cc2565b61168c83838b611bd1565b60400161169890611c3e565b93896116a5858583611bd1565b6060016116b190611cd6565b6116bc868684611bd1565b6080016116c890611cd6565b90866116d5818886611bd1565b60a081016116e291611ce3565b976116ee929195611bd1565b60c00192604051946116ff86611ae2565b6001600160a01b0316855260208501956001600160a01b0316865260408501986fffffffffffffffffffffffffffffffff16895260608501968c885260808601921515835260a086019315158452369061175892611d66565b9260c085019384523661176a91611de3565b9560e085019687526040519889967f897f362b0000000000000000000000000000000000000000000000000000000088526004880160209052610144880196516001600160a01b03166024890152516001600160a01b03166044880152516fffffffffffffffffffffffffffffffff166064870152516001600160a01b0316608486015251151560a485015251151560c4840152519060e4830161012090528151809152610164830191602001905f905b8082106118a1575050925180516001600160a01b03166101048401526020908101516101248401529250819003815f885af18015610d2d575f9061186f575b600192506118688288611e1c565b520161163f565b506020823d8211611899575b8161188860209383611b81565b810103126103b1576001915161185a565b3d915061187b565b919493509160206040826118db600194895164ffffffffff602080926fffffffffffffffffffffffffffffffff8151168552015116910152565b0195019201869394929161181b565b916001906fffffffffffffffffffffffffffffffff61190f604061044a878a8c611bd1565b1601920161160b565b346103b15760606003193601126103b1576119316119bb565b6044356001600160a01b03811681036103b1576001600160a01b035f5416338103610d38576040517faad3ec960000000000000000000000000000000000000000000000000000000081526001600160a01b0383811660048301526024803590830152602090829060449082905f9089165af18015610d2d575f90610f1257602090604051908152f35b600435906001600160a01b03821682036103b157565b602435906001600160a01b03821682036103b157565b9181601f840112156103b15782359167ffffffffffffffff83116103b1576020808501948460051b0101116103b157565b60606003198201126103b1576004356001600160a01b03811681036103b157916024356001600160a01b03811681036103b157916044359067ffffffffffffffff82116103b157611a6b916004016119e7565b9091565b60206040818301928281528451809452019201905f5b818110611a925750505090565b8251845260209384019390920191600101611a85565b906003821015611ab55752565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b610100810190811067ffffffffffffffff821117611aff57604052565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6040810190811067ffffffffffffffff821117611aff57604052565b610120810190811067ffffffffffffffff821117611aff57604052565b6060810190811067ffffffffffffffff821117611aff57604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117611aff57604052565b908160209103126103b1575190565b9190811015611c115760051b810135907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff01813603018212156103b1570190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b356fffffffffffffffffffffffffffffffff811681036103b15790565b67ffffffffffffffff8111611aff5760051b60200190565b90611c7d82611c5b565b611c8a6040519182611b81565b8281527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0611cb88294611c5b565b0190602036910137565b356001600160a01b03811681036103b15790565b3580151581036103b15790565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1813603018212156103b1570180359067ffffffffffffffff82116103b157602001918160061b360383136103b157565b35906fffffffffffffffffffffffffffffffff821682036103b157565b359064ffffffffff821682036103b157565b929192611d7282611c5b565b93611d806040519586611b81565b602085848152019260061b8201918183116103b157925b828410611da45750505050565b6040848303126103b15760206040918251611dbe81611b2c565b611dc787611d37565b8152611dd4838801611d54565b83820152815201930192611d97565b91908260409103126103b157604051611dfb81611b2c565b809280356001600160a01b03811681036103b1578252602090810135910152565b8051821015611c115760209160051b010190565b9190811015611c1157610120020190565b9035907fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe1813603018212156103b1570180359067ffffffffffffffff82116103b1576020019160608202360383136103b157565b929192611ea182611c5b565b93611eaf6040519586611b81565b60606020868581520193028201918183116103b157925b828410611ed35750505050565b6060848303126103b15760405190611eea82611b65565b611ef385611d37565b825260208501359067ffffffffffffffff821682036103b15782602092836060950152611f2260408801611d54565b6040820152815201930192611ec6565b9190811015611c115760051b810135907ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffee1813603018212156103b1570190565b3564ffffffffff811681036103b15790565b9190811015611c1157610140020190565b9190611fea6040517f23b872dd00000000000000000000000000000000000000000000000000000000602082015233602482015230604482015283606482015260648152611fe4608482611b81565b826121b7565b6040517fdd62ed3e0000000000000000000000000000000000000000000000000000000081523060048201526001600160a01b03848116602483018190529490831691602081604481865afa8015610d2d5785915f9161216a575b5010612053575b5050505050565b6040517f095ea7b300000000000000000000000000000000000000000000000000000000602082019081526001600160a01b039290921660248201526044808201959095529384525f9081906120aa606487611b81565b85519082855af1906120ba61223c565b82612138575b508161212d575b50156120d5575b808061204c565b61212061212593604051907f095ea7b300000000000000000000000000000000000000000000000000000000602083015260248201525f604482015260448152611fe4606482611b81565b6121b7565b5f80806120ce565b90503b15155f6120c7565b80519192508115918215612150575b5050905f6120c0565b612163925060208091830101910161219f565b5f80612147565b9150506020813d602011612197575b8161218660209383611b81565b810103126103b1578490515f612045565b3d9150612179565b908160209103126103b1575180151581036103b15790565b5f806001600160a01b036121e093169360208151910182865af16121d961223c565b9083612299565b8051908115159182612221575b50506121f65750565b7f5274afe7000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b612234925060208091830101910161219f565b155f806121ed565b3d15612294573d9067ffffffffffffffff8211611aff576040519161228960207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184611b81565b82523d5f602084013e565b606090565b906122d657508051156122ae57805190602001fd5b7f1425ea42000000000000000000000000000000000000000000000000000000005f5260045ffd5b8151158061231c575b6122e7575090565b6001600160a01b03907f9996b315000000000000000000000000000000000000000000000000000000005f521660045260245ffd5b50803b156122df56fea164736f6c634300081a000a";
    bytes public constant BYTECODE_MERKLE_LOCKUP_FACTORY =
        hex"608034609357601f6150ca38819003918201601f19168301916001600160401b03831184841017609757808492602094604052833981010312609357516001600160a01b038116908190036093575f80546001600160a01b0319168217815560405191907fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf808180a361501e90816100ac8239f35b5f80fd5b634e487b7160e01b5f52604160045260245ffdfe60806040526004361015610011575f80fd5b5f803560e01c80631e32387614610a525780632c5a6fb81461098d5780634d7c0f11146108a157806363e55549146107f15780636900ebd01461072257806375829def14610682578063769bed20146102cb5780639327333514610191578063a8ef018a146100bd5763f851a44014610088575f80fd5b346100ba57806003193601126100ba5773ffffffffffffffffffffffffffffffffffffffff6020915416604051908152f35b80fd5b50346100ba5760206003193601126100ba576024602073ffffffffffffffffffffffffffffffffffffffff6100f0610edc565b16604051928380927fc44b11f70000000000000000000000000000000000000000000000000000000082523060048301525afa908115610186578291610143575b6020826101416040518092611056565bf35b90506020813d60201161017e575b8161015e60209383610e9a565b8101031261017a5751600381101561017a57602091505f610131565b5080fd5b3d9150610151565b6040513d84823e3d90fd5b50346102985760806003193601126102985760043573ffffffffffffffffffffffffffffffffffffffff811680910361029857602435600381101561029857604435916002831015610298576064359073ffffffffffffffffffffffffffffffffffffffff82168092036102985773ffffffffffffffffffffffffffffffffffffffff5f541633810361029c5750803b15610298575f92836064926102659460405197889687957fc8992e610000000000000000000000000000000000000000000000000000000087526004870190611056565b602485015260448401525af1801561028d5761027f575080f35b61028b91505f90610e9a565b005b6040513d5f823e3d90fd5b5f80fd5b7fc6cce6a4000000000000000000000000000000000000000000000000000000005f526004523360245260445ffd5b346102985760c06003193601126102985760043567ffffffffffffffff8111610298576102fc903690600401610f55565b6024359073ffffffffffffffffffffffffffffffffffffffff8216918281036102985760407fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffbc360112610298576040519061035682610e7e565b60443564ffffffffff8116810361029857825260643564ffffffffff811681036102985760208301528251906020840151151583604086015192606087015160808801519160405180602081019460208652604082016103b5916110b1565b03601f19810182526103c79082610e9a565b60a08a01519360c08b01516040518181925190816020840191602001916103ed92611090565b8101038082526104009060200182610e9a565b610409906110d6565b9060e08c0151151592604051956020870198896104389164ffffffffff60208092828151168552015116910152565b60408752610447606088610e9a565b6040519a8b9a60208c019d8e3360601b905260601b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000001660348d015260f81b60488c015260d81b7fffffffffff0000000000000000000000000000000000000000000000000000001660498b015260601b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016604e8a015251908160628a016104ef92611090565b8701946062860152608285015260f81b60a284015260601b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000001660a383015251918260b7830161053e92611090565b0160620103605501601f19810182526105579082610e9a565b519020604051611bee80820182811067ffffffffffffffff8211176106555782916112178339608081526105b460406105936080840189611167565b92896020820152018664ffffffffff60208092828151168552015116910152565b03905ff592831561028d5761061861063a937f2ba0fe49588281dbb122dd3b7f3e2b3396338f70dbe3c62bf3e3888b4ba7ffb89273ffffffffffffffffffffffffffffffffffffffff6020971695869560405194859460c0865260c0860190611167565b9289850152604084019064ffffffffff60208092828151168552015116910152565b608435608083015260a43560a08301520390a2604051908152f35b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b346102985760206003193601126102985761069b610edc565b5f5473ffffffffffffffffffffffffffffffffffffffff811633810361029c575073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffff0000000000000000000000000000000000000000921691829116175f55337fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf805f80a3005b346102985760406003193601126102985761073b610edc565b60243560038110156102985773ffffffffffffffffffffffffffffffffffffffff5f541633810361029c57506107ba60246020925f73ffffffffffffffffffffffffffffffffffffffff60405196879586947f1a33757d0000000000000000000000000000000000000000000000000000000086526004860190611056565b165af1801561028d576107c957005b61028b9060203d6020116107ea575b6107e28183610e9a565b810190611207565b503d6107d8565b34610298576020600319360112610298576024602073ffffffffffffffffffffffffffffffffffffffff610823610edc565b16604051928380927fe12f3a610000000000000000000000000000000000000000000000000000000082523060048301525afa801561028d575f9061086e575b602090604051908152f35b506020813d602011610899575b8161088860209383610e9a565b810103126102985760209051610863565b3d915061087b565b346102985760206003193601126102985760043567ffffffffffffffff811161029857366023820112156102985780600401359067ffffffffffffffff8211610298573660248360061b83010111610298575f90815b8383101561096e5760248360061b830101359067ffffffffffffffff82168092036102985767ffffffffffffffff160167ffffffffffffffff8111610941576001909201916108f7565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b602090670de0b6b3a764000067ffffffffffffffff6040519216148152f35b34610298576060600319360112610298576109a6610edc565b60443573ffffffffffffffffffffffffffffffffffffffff81168091036102985773ffffffffffffffffffffffffffffffffffffffff5f541633810361029c576040517faad3ec960000000000000000000000000000000000000000000000000000000081526004810183905260248035908201526020816044815f73ffffffffffffffffffffffffffffffffffffffff89165af1801561028d575f9061086e57602090604051908152f35b346102985760a06003193601126102985760043567ffffffffffffffff811161029857610a83903690600401610f55565b60243573ffffffffffffffffffffffffffffffffffffffff811690818103610298576044359067ffffffffffffffff8211610298573660238301121561029857816004013567ffffffffffffffff81116106555760405192610aeb60208360051b0185610e9a565b8184526024602085019260061b8201019036821161029857602401915b818310610e31575050505f9082515f905b808210610dd95750508451906020860151151584604088015192606089015160808a0151916040518060208101946020865260408201610b58916110b1565b03601f1981018252610b6a9082610e9a565b8b60a08101519460c0820151604051818192519081602084019160200191610b9192611090565b810103808252610ba49060200182610e9a565b610bad906110d6565b9160e001511515926040519586602081019960208b5260408201610bd091611117565b03601f1981018852610be29088610e9a565b6040519a8b9a60208c019d8e3360601b905260601b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000001660348d015260f81b60488c015260d81b7fffffffffff0000000000000000000000000000000000000000000000000000001660498b015260601b7fffffffffffffffffffffffffffffffffffffffff00000000000000000000000016604e8a015251908160628a01610c8a92611090565b8701946062860152608285015260f81b60a284015260601b7fffffffffffffffffffffffffffffffffffffffff0000000000000000000000001660a383015251918260b78301610cd992611090565b0160620103605501601f1981018252610cf29082610e9a565b51902060405161220d8082019082821067ffffffffffffffff831117610655578291610d4391612e05843960608152610d2e606082018a611167565b90886020820152604081830391015286611117565b03905ff5801561028d576020947ffe44018cf74992b2720702385a1728bd329dd136e4f651203176c81c12710a8b92610db873ffffffffffffffffffffffffffffffffffffffff610da6941696879660405195869560c0875260c0870190611167565b918a8601528482036040860152611117565b906060830152606435608083015260843560a08301520390a2604051908152f35b90928451841015610e045760019064ffffffffff6020808760051b8901015101511601930190610b19565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b6040833603126102985760405190610e4882610e7e565b83359067ffffffffffffffff82168203610298578260209260409452610e6f838701610eca565b83820152815201920191610b08565b6040810190811067ffffffffffffffff82111761065557604052565b90601f601f19910116810190811067ffffffffffffffff82111761065557604052565b3590811515820361029857565b359064ffffffffff8216820361029857565b6004359073ffffffffffffffffffffffffffffffffffffffff8216820361029857565b81601f820112156102985780359067ffffffffffffffff82116106555760405192610f346020601f19601f8601160185610e9a565b8284526020838301011161029857815f926020809301838601378301015290565b919091610100818403126102985760405190610100820182811067ffffffffffffffff821117610655576040528193813573ffffffffffffffffffffffffffffffffffffffff81168103610298578352610fb160208301610ebd565b6020840152610fc260408301610eca565b6040840152606082013573ffffffffffffffffffffffffffffffffffffffff81168103610298576060840152608082013567ffffffffffffffff8111610298578161100e918401610eff565b608084015260a082013560a084015260c08201359067ffffffffffffffff8211610298578261104660e0949261105194869401610eff565b60c086015201610ebd565b910152565b9060038210156110635752565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b5f5b8381106110a15750505f910152565b8181015183820152602001611092565b90601f19601f6020936110cf81518092818752878088019101611090565b0116010190565b6020815191015190602081106110ea575090565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff9060200360031b1b1690565b90602080835192838152019201905f5b8181106111345750505090565b8251805167ffffffffffffffff16855260209081015164ffffffffff168186015260409094019390920191600101611127565b9073ffffffffffffffffffffffffffffffffffffffff825116815260208201511515602082015264ffffffffff604083015116604082015273ffffffffffffffffffffffffffffffffffffffff606083015116606082015260e0806111fc6111e0608086015161010060808701526101008601906110b1565b60a086015160a086015260c086015185820360c08701526110b1565b930151151591015290565b9081602091031261029857519056fe610160806040523461042857611bee803803809161001d8285610560565b833981019080820390608082126104285780516001600160401b03811161042857810190610100828503126104285760405161010081016001600160401b038111828210176105355760405282516001600160a01b038116810361042857815261008960208401610583565b6020820190815261009c60408501610590565b60408301908152606085015194906001600160a01b0386168603610428576060840195865260808201516001600160401b03811161042857886100e09184016105de565b6080850190815260a08381015190860190815260c084015190999192916001600160401b0382116104285761011c60e09161012a9387016105de565b9460c0880195865201610583565b9360e0860194855260208701519560018060a01b038716998a880361042857604090603f1901126104285760408051989089016001600160401b0381118a8210176105355761018d9160609160405261018560408201610590565b8b5201610590565b9860208901998a52855151602081116105495750515f80546001600160a01b0319166001600160a01b0392831617905590511660805251151560a0525164ffffffffff1660c0525180519097906001600160401b03811161053557600154600181811c9116801561052b575b602082101461051757601f81116104b4575b506020601f821160011461044857819064ffffffffff98999a5f9261043d575b50508160011b915f199060031b1c1916176001555b5160e052516040516102736020828161026281830196878151938492016105bd565b81010301601f198101835282610560565b519051906020811061042c575b50610100525115156101205261014052511669ffffffffff0000000000600454925160281b169160018060501b031916171760045560018060a01b0360805116604051905f806020840163095ea7b360e01b815285602486015281196044860152604485526102f0606486610560565b84519082855af16102ff610623565b816103f1575b50806103e7575b156103a2575b6040516114ca9081610724823960805181818161081a01528181610a6f015261107a015260a051818181610aad0152610f69015260c05181818161019901528181610df6015281816111e701526113ef015260e05181818161066c01526109bb01526101005181611285015261012051818181610ad70152610f2d0152610140518181816102be0152610c200152f35b6103da6103df936040519063095ea7b360e01b602083015260248201525f6044820152604481526103d4606482610560565b82610652565b610652565b5f8080610312565b50803b151561030c565b8051801592508215610406575b50505f610305565b81925090602091810103126104285760206104219101610583565b5f806103fe565b5f80fd5b5f199060200360031b1b165f610280565b015190505f8061022b565b601f1982169960015f52815f209a5f5b81811061049c57509164ffffffffff999a9b91846001959410610484575b505050811b01600155610240565b01515f1960f88460031b161c191690555f8080610476565b838301518d556001909c019b60209384019301610458565b60015f527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6601f830160051c8101916020841061050d575b601f0160051c01905b818110610502575061020b565b5f81556001016104f5565b90915081906104ec565b634e487b7160e01b5f52602260045260245ffd5b90607f16906101f9565b634e487b7160e01b5f52604160045260245ffd5b63a52d539b60e01b5f52600452602060245260445ffd5b601f909101601f19168101906001600160401b0382119082101761053557604052565b5190811515820361042857565b519064ffffffffff8216820361042857565b6001600160401b03811161053557601f01601f191660200190565b5f5b8381106105ce5750505f910152565b81810151838201526020016105bf565b81601f820112156104285780516105f4816105a2565b926106026040519485610560565b818452602082840101116104285761062091602080850191016105bd565b90565b3d1561064d573d90610634826105a2565b916106426040519384610560565b82523d5f602084013e565b606090565b5f8061067a9260018060a01b03169360208151910182865af1610673610623565b90836106c5565b80519081151591826106a2575b50506106905750565b635274afe760e01b5f5260045260245ffd5b81925090602091810103126104285760206106bd9101610583565b155f80610687565b906106e957508051156106da57805190602001fd5b630a12f52160e11b5f5260045ffd5b8151158061071a575b6106fa575090565b639996b31560e01b5f9081526001600160a01b0391909116600452602490fd5b50803b156106f256fe6080806040526004361015610012575f80fd5b5f905f3560e01c90816306fdde031461126f575080631686c90914610f8e57806316c3549d14610f525780631bfd681414610f165780632c5a6fb814610e4c5780633bfe03a814610e1e5780633f31ae3f1461083e5780634800d97f146107ee57806349fc73dd146106b35780634e390d3e1461068f57806351e75e8b1461065557806363e55549146105a55780636900ebd0146104d657806375829def1461043657806390e64d131461041c57806393273335146102e25780639e93e57714610291578063a8ef018a146101bd578063bb4b57341461017b578063ce5165071461013a5763f851a44014610105575f80fd5b3461013757806003193601126101375773ffffffffffffffffffffffffffffffffffffffff6020915416604051908152f35b80fd5b503461013757602060031936011261013757602061017160043560ff6001918060081c5f526002602052161b60405f205416151590565b6040519015158152f35b5034610137578060031936011261013757602060405164ffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b5034610137576020600319360112610137576024602073ffffffffffffffffffffffffffffffffffffffff6101f061131e565b16604051928380927fc44b11f70000000000000000000000000000000000000000000000000000000082523060048301525afa908115610286578291610243575b602082610241604051809261139e565bf35b90506020813d60201161027e575b8161025e6020938361135d565b8101031261027a5751600381101561027a57602091505f610231565b5080fd5b3d9150610251565b6040513d84823e3d90fd5b5034610137578060031936011261013757602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346103e95760806003193601126103e95760043573ffffffffffffffffffffffffffffffffffffffff81168091036103e95760243560038110156103e9576044359160028310156103e9576064359073ffffffffffffffffffffffffffffffffffffffff82168092036103e95773ffffffffffffffffffffffffffffffffffffffff5f54163381036103ed5750803b156103e9575f92836064926103b69460405197889687957fc8992e61000000000000000000000000000000000000000000000000000000008752600487019061139e565b602485015260448401525af180156103de576103d0575080f35b6103dc91505f9061135d565b005b6040513d5f823e3d90fd5b5f80fd5b7fc6cce6a4000000000000000000000000000000000000000000000000000000005f526004523360245260445ffd5b346103e9575f6003193601126103e95760206101716113e7565b346103e95760206003193601126103e95761044f61131e565b5f5473ffffffffffffffffffffffffffffffffffffffff81163381036103ed575073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffff0000000000000000000000000000000000000000921691829116175f55337fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf805f80a3005b346103e95760406003193601126103e9576104ef61131e565b60243560038110156103e95773ffffffffffffffffffffffffffffffffffffffff5f54163381036103ed575061056e60246020925f73ffffffffffffffffffffffffffffffffffffffff60405196879586947f1a33757d000000000000000000000000000000000000000000000000000000008652600486019061139e565b165af180156103de5761057d57005b6103dc9060203d60201161059e575b610596818361135d565b8101906113d8565b503d61058c565b346103e95760206003193601126103e9576024602073ffffffffffffffffffffffffffffffffffffffff6105d761131e565b16604051928380927fe12f3a610000000000000000000000000000000000000000000000000000000082523060048301525afa80156103de575f90610622575b602090604051908152f35b506020813d60201161064d575b8161063c6020938361135d565b810103126103e95760209051610617565b3d915061062f565b346103e9575f6003193601126103e95760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b346103e9575f6003193601126103e957602064ffffffffff60035416604051908152f35b346103e9575f6003193601126103e9576040515f6001548060011c906001811680156107e4575b6020831081146107b7578285529081156107755750600114610717575b610713836107078185038261135d565b604051918291826112b8565b0390f35b91905060015f527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6915f905b80821061075b575090915081016020016107076106f7565b919260018160209254838588010152019101909291610743565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660208086019190915291151560051b8401909101915061070790506106f7565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b91607f16916106da565b346103e9575f6003193601126103e957602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b346103e95760806003193601126103e95760043560243573ffffffffffffffffffffffffffffffffffffffff81168091036103e957604435916fffffffffffffffffffffffffffffffff83168093036103e9576064359067ffffffffffffffff82116103e957366023830112156103e957816004013567ffffffffffffffff81116103e9578060051b92602484820101903682116103e9576040516020810190858252876040820152886060820152606081526108fc60808261135d565b519020604051602081019182526020815261091860408261135d565b519020926109246113e7565b610dc7576109498560ff6001918060081c5f526002602052161b60405f205416151590565b610d9b5761095d602060405197018761135d565b8552602401602085015b828210610d8b57505050935f945b83518610156109b75760208660051b85010151908181105f146109a6575f52602052600160405f205b950194610975565b905f52602052600160405f2061099e565b84907f000000000000000000000000000000000000000000000000000000000000000003610d635760035464ffffffffff811615610d2f575b508260081c5f52600260205260405f20600160ff85161b815417905573ffffffffffffffffffffffffffffffffffffffff5f541691604051610a3181611341565b5f81525f602082015260405193610100850185811067ffffffffffffffff821117610d025760405284526020840183815260408501838152606086017f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff16815260808701907f00000000000000000000000000000000000000000000000000000000000000001515825260a08801927f00000000000000000000000000000000000000000000000000000000000000001515845260405194610b0786611341565b60045464ffffffffff8116875260281c64ffffffffff16602087015260c08a0195865260e08a01968752604051997fab167ccc000000000000000000000000000000000000000000000000000000008b525173ffffffffffffffffffffffffffffffffffffffff1660048b01525173ffffffffffffffffffffffffffffffffffffffff1660248a0152516fffffffffffffffffffffffffffffffff1660448901525173ffffffffffffffffffffffffffffffffffffffff166064880152511515608487015251151560a486015251805164ffffffffff1660c48601526020015164ffffffffff1660e485015251805173ffffffffffffffffffffffffffffffffffffffff166101048501526020015161012484015282807f000000000000000000000000000000000000000000000000000000000000000073ffffffffffffffffffffffffffffffffffffffff165a925f61014492602095f19283156103de575f93610caa575b50907f28b58397e03322f670d6b223cc863f8c148e368b8b615412e6798a641a22842d60406020958594825191825287820152a3604051908152f35b939250906020843d602011610cfa575b81610cc76020938361135d565b810103126103e95792519192907f28b58397e03322f670d6b223cc863f8c148e368b8b615412e6798a641a22842d610c6e565b3d9150610cba565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b7fffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000164264ffffffffff1617600355836109f0565b7f0fa7d73c000000000000000000000000000000000000000000000000000000005f5260045ffd5b8135815260209182019101610967565b847f712b37a3000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b7f442b1841000000000000000000000000000000000000000000000000000000005f524260045264ffffffffff7f00000000000000000000000000000000000000000000000000000000000000001660245260445ffd5b346103e9575f6003193601126103e957604060045464ffffffffff825191818116835260281c166020820152f35b346103e95760606003193601126103e957610e6561131e565b60443573ffffffffffffffffffffffffffffffffffffffff811681036103e95773ffffffffffffffffffffffffffffffffffffffff5f54163381036103ed576040517faad3ec9600000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff83811660048301526024803590830152602090829060449082905f9089165af180156103de575f9061062257602090604051908152f35b346103e9575f6003193601126103e95760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b346103e9575f6003193601126103e95760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b346103e95760406003193601126103e957610fa761131e565b602435906fffffffffffffffffffffffffffffffff82168092036103e95773ffffffffffffffffffffffffffffffffffffffff5f54163381036103ed575064ffffffffff6003541680151580611221575b80611212575b6111b857506040517fa9059cbb000000000000000000000000000000000000000000000000000000006020820190815273ffffffffffffffffffffffffffffffffffffffff83166024830152604480830185905282525f90819061106360648561135d565b73ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001693519082855af13d156111ac573d67ffffffffffffffff8111610d025761110191604051916110f160207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f840116018461135d565b82523d5f602084013e5b83611424565b8051908115159182611188575b505061115d57507f2e9d425ba8b27655048400b366d7b6a1f7180ebdb088e06bb7389704860ffe1f602073ffffffffffffffffffffffffffffffffffffffff805f5416936040519586521693a3005b7f5274afe7000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b81925090602091810103126103e957602001518015908115036103e957848061110e565b611101906060906110fb565b7f92b66697000000000000000000000000000000000000000000000000000000005f524260045264ffffffffff7f00000000000000000000000000000000000000000000000000000000000000001660245260445260645ffd5b5061121b6113e7565b15610ffe565b5062093a80810164ffffffffff81116112425764ffffffffff164211610ff8565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b346103e9575f6003193601126103e957610713907f000000000000000000000000000000000000000000000000000000000000000060208201526020815261070760408261135d565b919091602081528251928360208301525f5b8481106113085750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f845f6040809697860101520116010190565b80602080928401015160408286010152016112ca565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036103e957565b6040810190811067ffffffffffffffff821117610d0257604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117610d0257604052565b9060038210156113ab5752565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b908160209103126103e9575190565b64ffffffffff7f000000000000000000000000000000000000000000000000000000000000000016801515908161141c575090565b905042101590565b90611461575080511561143957805190602001fd5b7f1425ea42000000000000000000000000000000000000000000000000000000005f5260045ffd5b815115806114b4575b611472575090565b73ffffffffffffffffffffffffffffffffffffffff907f9996b315000000000000000000000000000000000000000000000000000000005f521660045260245ffd5b50803b1561146a56fea164736f6c634300081a000a61018080604052346104485761220d803803809161001d82856106ab565b83398101906060818303126104485780516001600160401b03811161044857810161010081840312610448576040519061010082016001600160401b038111838210176105025760405280516001600160a01b0381168103610448578252610087602082016106ce565b916020810192835261009b604083016106db565b60408201908152606083015193906001600160a01b0385168503610448576060830194855260808401516001600160401b03811161044857876100df918601610729565b916080840192835260a08501519360a0810194855260c086015160018060401b0381116104485760e06101178b610125938a01610729565b9760c08401988952016106ce565b60e082019081526020890151989097906001600160a01b038a168a03610448576040810151906001600160401b03821161044857018a601f82011215610448578051906001600160401b0382116105025760209b8c6040519d8e61018e828760051b01826106ab565b858152019360061b8301019181831161044857602001925b82841061064f5750505050865151602081116106385750515f80546001600160a01b0319166001600160a01b0392831617905590511660805251151560a0525164ffffffffff1660c052518051906001600160401b0382116105025760015490600182811c9216801561062e575b602083101461061a5781601f8493116105ac575b50602090601f8311600114610546575f9261053b575b50508160011b915f199060031b1c1916176001555b5160e05251604051610286602082816102758183019687815193849201610708565b81010301601f1981018352826106ab565b519051906020811061052a575b506101005251151561012052610140528051905f915f915b81831061044c57836101605260018060a01b036080511660018060a01b03610140511690604051905f806020840163095ea7b360e01b815285602486015281196044860152604485526102ff6064866106ab565b84519082855af161030e610782565b81610411575b5080610407575b156103c2575b60405161198a908161088382396080518181816108e501528181610c2501526113ad015260a051818181610c4f015261129c015260c0518181816102700152818161112c0152818161151a01526116f5015260e0518181816107370152610ac80152610100518161158b015261012051818181610c8a01526112600152610140518181816101720152610d8a01526101605181818161038901526109ac0152f35b6103fa6103ff936040519063095ea7b360e01b602083015260248201525f6044820152604481526103f46064826106ab565b826107b1565b6107b1565b808080610321565b50803b151561031b565b8051801592508215610426575b505084610314565b819250906020918101031261044857602061044191016106ce565b848061041e565b5f80fd5b91929091906001600160401b03610463858461076e565b5151166001600160401b03918216019081116105165792610484818361076e565b519060045491680100000000000000008310156105025760018301806004558310156104ee5760019260045f5260205f200190838060401b038151166cffffffffff00000000000000006020845493015160401b1691858060681b031916171790550191906102ab565b634e487b7160e01b5f52603260045260245ffd5b634e487b7160e01b5f52604160045260245ffd5b634e487b7160e01b5f52601160045260245ffd5b5f199060200360031b1b165f610293565b015190505f8061023e565b60015f9081528281209350601f198516905b818110610594575090846001959493921061057c575b505050811b01600155610253565b01515f1960f88460031b161c191690555f808061056e565b92936020600181928786015181550195019301610558565b60015f529091507fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6601f840160051c81019160208510610610575b90601f859493920160051c01905b8181106106025750610228565b5f81558493506001016105f5565b90915081906105e7565b634e487b7160e01b5f52602260045260245ffd5b91607f1691610214565b63a52d539b60e01b5f52600452602060245260445ffd5b6040848303126104485760408051919082016001600160401b03811183821017610502576040528451906001600160401b038216820361044857826020926040945261069c8388016106db565b838201528152019301926101a6565b601f909101601f19168101906001600160401b0382119082101761050257604052565b5190811515820361044857565b519064ffffffffff8216820361044857565b6001600160401b03811161050257601f01601f191660200190565b5f5b8381106107195750505f910152565b818101518382015260200161070a565b81601f8201121561044857805161073f816106ed565b9261074d60405194856106ab565b818452602082840101116104485761076b9160208085019101610708565b90565b80518210156104ee5760209160051b010190565b3d156107ac573d90610793826106ed565b916107a160405193846106ab565b82523d5f602084013e565b606090565b5f806107d99260018060a01b03169360208151910182865af16107d2610782565b9083610824565b8051908115159182610801575b50506107ef5750565b635274afe760e01b5f5260045260245ffd5b819250906020918101031261044857602061081c91016106ce565b155f806107e6565b90610848575080511561083957805190602001fd5b630a12f52160e11b5f5260045ffd5b81511580610879575b610859575090565b639996b31560e01b5f9081526001600160a01b0391909116600452602490fd5b50803b1561085156fe6080806040526004361015610012575f80fd5b5f905f3560e01c90816306fdde0314611575575080631686c909146112c157806316c3549d146112855780631bfd6814146112495780632c5a6fb81461117f5780633f31ae3f146109095780634800d97f146108b957806349fc73dd1461077e5780634e390d3e1461075a57806351e75e8b1461072057806363e55549146106705780636900ebd0146105a157806375829def1461050157806390e64d13146104e757806393273335146103ad578063936c63d914610368578063a8ef018a14610294578063bb4b573414610252578063bf4ed03f146101d7578063ce51650714610196578063da792468146101455763f851a44014610110575f80fd5b3461014257806003193601126101425773ffffffffffffffffffffffffffffffffffffffff6020915416604051908152f35b80fd5b5034610142578060031936011261014257602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346101425760206003193601126101425760206101cd60043560ff6001918060081c5f526002602052161b60405f205416151590565b6040519015158152f35b50346101425780600319360112610142576101f0611742565b90604051918291602083016020845282518091526020604085019301915b81811061021c575050500390f35b8251805167ffffffffffffffff16855260209081015164ffffffffff16818601528695506040909401939092019160010161020e565b5034610142578060031936011261014257602060405164ffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b5034610142576020600319360112610142576024602073ffffffffffffffffffffffffffffffffffffffff6102c7611624565b16604051928380927fc44b11f70000000000000000000000000000000000000000000000000000000082523060048301525afa90811561035d57829161031a575b60208261031860405180926116a4565bf35b90506020813d602011610355575b8161033560209383611663565b810103126103515751600381101561035157602091505f610308565b5080fd5b3d9150610328565b6040513d84823e3d90fd5b5034610142578060031936011261014257602060405167ffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b50346104b45760806003193601126104b45760043573ffffffffffffffffffffffffffffffffffffffff81168091036104b45760243560038110156104b4576044359160028310156104b4576064359073ffffffffffffffffffffffffffffffffffffffff82168092036104b45773ffffffffffffffffffffffffffffffffffffffff5f54163381036104b85750803b156104b4575f92836064926104819460405197889687957fc8992e6100000000000000000000000000000000000000000000000000000000875260048701906116a4565b602485015260448401525af180156104a95761049b575080f35b6104a791505f90611663565b005b6040513d5f823e3d90fd5b5f80fd5b7fc6cce6a4000000000000000000000000000000000000000000000000000000005f526004523360245260445ffd5b346104b4575f6003193601126104b45760206101cd6116ed565b346104b45760206003193601126104b45761051a611624565b5f5473ffffffffffffffffffffffffffffffffffffffff81163381036104b8575073ffffffffffffffffffffffffffffffffffffffff7fffffffffffffffffffffffff0000000000000000000000000000000000000000921691829116175f55337fbdd36143ee09de60bdefca70680e0f71189b2ed7acee364b53917ad433fdaf805f80a3005b346104b45760406003193601126104b4576105ba611624565b60243560038110156104b45773ffffffffffffffffffffffffffffffffffffffff5f54163381036104b8575061063960246020925f73ffffffffffffffffffffffffffffffffffffffff60405196879586947f1a33757d00000000000000000000000000000000000000000000000000000000865260048601906116a4565b165af180156104a95761064857005b6104a79060203d602011610669575b6106618183611663565b8101906116de565b503d610657565b346104b45760206003193601126104b4576024602073ffffffffffffffffffffffffffffffffffffffff6106a2611624565b16604051928380927fe12f3a610000000000000000000000000000000000000000000000000000000082523060048301525afa80156104a9575f906106ed575b602090604051908152f35b506020813d602011610718575b8161070760209383611663565b810103126104b457602090516106e2565b3d91506106fa565b346104b4575f6003193601126104b45760206040517f00000000000000000000000000000000000000000000000000000000000000008152f35b346104b4575f6003193601126104b457602064ffffffffff60035416604051908152f35b346104b4575f6003193601126104b4576040515f6001548060011c906001811680156108af575b6020831081146108825782855290811561084057506001146107e2575b6107de836107d281850382611663565b604051918291826115be565b0390f35b91905060015f527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6915f905b808210610826575090915081016020016107d26107c2565b91926001816020925483858801015201910190929161080e565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff001660208086019190915291151560051b840190910191506107d290506107c2565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b91607f16916107a5565b346104b4575f6003193601126104b457602060405173ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168152f35b346104b45760806003193601126104b4576004356024359073ffffffffffffffffffffffffffffffffffffffff82168092036104b457604435916fffffffffffffffffffffffffffffffff8316918284036104b4576064359367ffffffffffffffff85116104b457366023860112156104b45784600401359467ffffffffffffffff86116104b45760248660051b8201013681116104b45767ffffffffffffffff7f000000000000000000000000000000000000000000000000000000000000000016670de0b6b3a764000081036111545750604051602081019085825286604082015287606082015260608152610a02608082611663565b5190206040516020810191825260208152610a1e604082611663565b51902091610a2a6116ed565b6110fd57610a4f8560ff6001918060081c5f526002602052161b60405f205416151590565b6110d157610a5c8861172a565b97610a6a604051998a611663565b8852602401602088015b8282106110c157505050925f935b8651851015610ac457610a9585886117d6565b519081811015610ab3575f52602052600160405f205b940193610a82565b905f52602052600160405f20610aab565b85907f0000000000000000000000000000000000000000000000000000000000000000036110995760035464ffffffffff811615611065575b50610b06611742565b925f8451610b138161172a565b95610b216040519788611663565b8187527fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0610b4e8361172a565b015f5b8181106110425750505f905b828210610f395750506fffffffffffffffffffffffffffffffff8216848111610f0c578411610eb9575b5050508360081c5f52600260205260405f20600160ff86161b815417905573ffffffffffffffffffffffffffffffffffffffff5f541692604051610bca81611647565b5f81525f60208201526040519161010083019583871067ffffffffffffffff881117610e8c5773ffffffffffffffffffffffffffffffffffffffff9660409492939452815260208101918583526040820185815260608301887f00000000000000000000000000000000000000000000000000000000000000001681528860808501917f0000000000000000000000000000000000000000000000000000000000000000151583526fffffffffffffffffffffffffffffffff60a08701947f00000000000000000000000000000000000000000000000000000000000000001515865260c0880196875260e08801998a526040519c8d997f897f362b000000000000000000000000000000000000000000000000000000008b52602060048c0152816101448c019a511660248c0152511660448a0152511660648801525116608486015251151560a485015251151560c4840152519061012060e48401528151809152602061016484019201905f5b818110610e4e575050508190602080945173ffffffffffffffffffffffffffffffffffffffff815116610104850152015161012483015203815f73ffffffffffffffffffffffffffffffffffffffff7f0000000000000000000000000000000000000000000000000000000000000000165af19283156104a9575f93610df6575b50907f28b58397e03322f670d6b223cc863f8c148e368b8b615412e6798a641a22842d60406020958594825191825287820152a3604051908152f35b939250906020843d602011610e46575b81610e1360209383611663565b810103126104b45792519192907f28b58397e03322f670d6b223cc863f8c148e368b8b615412e6798a641a22842d610dba565b3d9150610e06565b825180516fffffffffffffffffffffffffffffffff16855260209081015164ffffffffff168186015289955060409094019390920191600101610d39565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6fffffffffffffffffffffffffffffffff91610ef87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff849301886117d6565b519303168183511601169052848080610b87565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52600160045260245ffd5b9092610f5a67ffffffffffffffff610f5186856117d6565b51511687611817565b6fffffffffffffffffffffffffffffffff8111611017576fffffffffffffffffffffffffffffffff8091169164ffffffffff6020610f9888876117d6565b5101511660405190610fa982611647565b8482526020820152610fbb878c6117d6565b52610fc6868b6117d6565b5016016fffffffffffffffffffffffffffffffff8111610fea579260010190610b5d565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b7f4916adce000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b60209060405161105181611647565b5f81525f8382015282828c01015201610b51565b7fffffffffffffffffffffffffffffffffffffffffffffffffffffff0000000000164264ffffffffff161760035584610afd565b7f0fa7d73c000000000000000000000000000000000000000000000000000000005f5260045ffd5b8135815260209182019101610a74565b847f712b37a3000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b7f442b1841000000000000000000000000000000000000000000000000000000005f524260045264ffffffffff7f00000000000000000000000000000000000000000000000000000000000000001660245260445ffd5b7f4557880f000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b346104b45760606003193601126104b457611198611624565b60443573ffffffffffffffffffffffffffffffffffffffff811681036104b45773ffffffffffffffffffffffffffffffffffffffff5f54163381036104b8576040517faad3ec9600000000000000000000000000000000000000000000000000000000815273ffffffffffffffffffffffffffffffffffffffff83811660048301526024803590830152602090829060449082905f9089165af180156104a9575f906106ed57602090604051908152f35b346104b4575f6003193601126104b45760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b346104b4575f6003193601126104b45760206040517f000000000000000000000000000000000000000000000000000000000000000015158152f35b346104b45760406003193601126104b4576112da611624565b602435906fffffffffffffffffffffffffffffffff82168092036104b45773ffffffffffffffffffffffffffffffffffffffff5f54163381036104b8575064ffffffffff6003541680151580611554575b80611545575b6114eb57506040517fa9059cbb000000000000000000000000000000000000000000000000000000006020820190815273ffffffffffffffffffffffffffffffffffffffff83166024830152604480830185905282525f908190611396606485611663565b73ffffffffffffffffffffffffffffffffffffffff7f00000000000000000000000000000000000000000000000000000000000000001693519082855af13d156114df573d67ffffffffffffffff8111610e8c57611434916040519161142460207fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f8401160184611663565b82523d5f602084013e5b836118e4565b80519081151591826114bb575b505061149057507f2e9d425ba8b27655048400b366d7b6a1f7180ebdb088e06bb7389704860ffe1f602073ffffffffffffffffffffffffffffffffffffffff805f5416936040519586521693a3005b7f5274afe7000000000000000000000000000000000000000000000000000000005f5260045260245ffd5b81925090602091810103126104b457602001518015908115036104b4578480611441565b6114349060609061142e565b7f92b66697000000000000000000000000000000000000000000000000000000005f524260045264ffffffffff7f00000000000000000000000000000000000000000000000000000000000000001660245260445260645ffd5b5061154e6116ed565b15611331565b5062093a80810164ffffffffff8111610fea5764ffffffffff16421161132b565b346104b4575f6003193601126104b4576107de907f00000000000000000000000000000000000000000000000000000000000000006020820152602081526107d2604082611663565b919091602081528251928360208301525f5b84811061160e5750507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0601f845f6040809697860101520116010190565b80602080928401015160408286010152016115d0565b6004359073ffffffffffffffffffffffffffffffffffffffff821682036104b457565b6040810190811067ffffffffffffffff821117610e8c57604052565b90601f7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffe0910116810190811067ffffffffffffffff821117610e8c57604052565b9060038210156116b15752565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602160045260245ffd5b908160209103126104b4575190565b64ffffffffff7f0000000000000000000000000000000000000000000000000000000000000000168015159081611722575090565b905042101590565b67ffffffffffffffff8111610e8c5760051b60200190565b6004549061174f8261172a565b9161175d6040519384611663565b80835260045f9081527f8a35acfbc15ff81a39ae7d344fd709f28e8600b4aa8c65c6b64bfe7fe36bd19b602085015b8383106117995750505050565b6001602081926040516117ab81611647565b64ffffffffff865467ffffffffffffffff8116835260401c168382015281520192019201919061178c565b80518210156117ea5760209160051b010190565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b9190917fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff838209838202918280831092039180830392146118d357670de0b6b3a76400008210156118a3577faccb18165bd6fe31ae1cf318dc5b51eee0e1ba569b88cd74c1773b91fac106699394670de0b6b3a7640000910990828211900360ee1b910360121c170290565b84907f5173648d000000000000000000000000000000000000000000000000000000005f5260045260245260445ffd5b5050670de0b6b3a764000090049150565b9061192157508051156118f957805190602001fd5b7f1425ea42000000000000000000000000000000000000000000000000000000005f5260045ffd5b81511580611974575b611932575090565b73ffffffffffffffffffffffffffffffffffffffff907f9996b315000000000000000000000000000000000000000000000000000000005f521660045260245ffd5b50803b1561192a56fea164736f6c634300081a000aa164736f6c634300081a000a";

    /*//////////////////////////////////////////////////////////////////////////
                                     DEPLOYERS
    //////////////////////////////////////////////////////////////////////////*/

    /// @notice Deploys {SablierV2BatchLockup} from precompiled bytecode.
    function deployBatchLockup(address initialAdmin) public returns (ISablierV2BatchLockup batchLockup) {
        bytes memory creationBytecode = bytes.concat(BYTECODE_BATCH_LOCKUP, abi.encode(initialAdmin));
        assembly {
            batchLockup := create(0, add(creationBytecode, 0x20), mload(creationBytecode))
        }
        require(
            address(batchLockup) != address(0), "Sablier V2 Precompiles: deployment failed for BatchLockup contract"
        );
    }

    /// @notice Deploys {SablierV2MerkleLockupFactory} from precompiled bytecode.
    function deployMerkleLockupFactory(address initialAdmin) public returns (ISablierV2MerkleLockupFactory factory) {
        bytes memory creationBytecode = bytes.concat(BYTECODE_MERKLE_LOCKUP_FACTORY, abi.encode(initialAdmin));
        assembly {
            factory := create(0, add(creationBytecode, 0x20), mload(creationBytecode))
        }
        require(
            address(factory) != address(0), "Sablier V2 Precompiles: deployment failed for MerkleLockupFactory contract"
        );
    }

    /// @notice Deploys all V2 Periphery contracts in the following order:
    ///
    /// 1. {SablierV2BatchLockup}
    /// 2. {SablierV2MerkleLockupFactory}
    function deployPeriphery(address initialAdmin)
        public
        returns (ISablierV2BatchLockup batchLockup, ISablierV2MerkleLockupFactory merkleLockupFactory)
    {
        batchLockup = deployBatchLockup(initialAdmin);
        merkleLockupFactory = deployMerkleLockupFactory(initialAdmin);
    }

    /// @notice Deploys the entire Sablier V2 Protocol from precompiled bytecode.
    ///
    /// 1. {SablierV2NFTDescriptor}
    /// 2. {SablierV2LockupDynamic}
    /// 3. {SablierV2LockupLinear}
    /// 4. {SablierV2LockupTranched}
    /// 5. {SablierV2BatchLockup}
    /// 6. {SablierV2MerkleLockupFactory}
    function deployProtocol(address initialAdmin)
        public
        returns (
            ISablierV2LockupDynamic lockupDynamic,
            ISablierV2LockupLinear lockupLinear,
            ISablierV2LockupTranched lockupTranched,
            ISablierV2NFTDescriptor nftDescriptor,
            ISablierV2BatchLockup batchLockup,
            ISablierV2MerkleLockupFactory merkleLockupFactory
        )
    {
        // Deploy V2 Core.
        (lockupDynamic, lockupLinear, lockupTranched, nftDescriptor) = new V2CorePrecompiles().deployCore(initialAdmin);

        // Deploy V2 Periphery.
        (batchLockup, merkleLockupFactory) = deployPeriphery(initialAdmin);
    }
}
